<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-186823627-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-186823627-2');
    </script>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>CREATOR - didaCtic and geneRic assEmbly progrAmming simulaTOR</title>

    <!-- Required stylesheets -->
    <link type="text/css" rel="stylesheet" href="external/bootstrap.min.css"/>
    <link type="text/css" rel="stylesheet" href="external/bootstrap-largegrid.min.css"/>
    <link type="text/css" rel="stylesheet" href="external/bootstrap-vue.min.css"/>
    <link type="text/css" rel='stylesheet' href="external/fontawesome/css/all.css">
    <link rel="stylesheet" href="external/codemirror/codemirror.css">
    <link rel="stylesheet" href="css/style.css">
   
    <!-- Load polyfills to support older browsers -->
    <!--<script src="//polyfill.io/v3/polyfill.min.js?features=es2015%2CIntersectionObserver" crossorigin="anonymous"></script>-->

    <!-- Required scripts -->
    <script src="external/polyfill.min.js"></script>
    <script src="external/vue.min.js"></script>
    <script src="external/bootstrap-vue.min.js"></script>
    <script src="external/jquery.min.js"></script>
    <script src="external/BigInteger.min.js"></script>
    <script src="external/lodash.js"></script>

    <!--Codemirror scripts-->
    <script src="external/codemirror/codemirror.js"></script>
    <script src="external/codemirror/keymap/vim.js"></script>
    <script src="external/codemirror/keymap/sublime.js"></script>
    <script src="external/codemirror/mode/gas/gas.js"></script>
    <script src="external/codemirror/mode/javascript/javascript.js"></script>
    <script src="external/codemirror/addon/display/autorefresh.js"></script>
    <script src="external/codemirror/addon/comment/comment.js"></script>
    <script src="external/codemirror/addon/hint/show-hint.js"></script>

    <!--Apexcharts scripts-->
    <script>
      window.Promise ||
        document.write(
          '<script src="external/apexcharts/polyfill.min.js"><\/script>'
        )
      window.Promise ||
        document.write(
          '<script src="external/apexcharts/classList.min.js"><\/script>'
        )
      window.Promise ||
        document.write(
          '<script src="external/apexcharts/findindex_polyfill_mdn"><\/script>'
        )
    </script>
    <script src="external/apexcharts/apexcharts"></script>
    <script src="external/apexcharts/vue-apexcharts"></script>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="57x57" href="./images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./images/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="./images/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./images/icons/favicon-16x16.png">
    <link rel="manifest" href="./images/icons/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="./images/icons/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

  </head>

  <!-- Body -->
  <body>

    <div id="app">
      <template>

        <!-- Loading spinner -->
        <spinner-loading  id="loading" 
                          style="display: none">
        </spinner-loading>

        <!-- Browser not supported modal -->
        <b-modal  id ="modalBrowser" 
                  title="Browser not supported" 
                  ref="browser" 
                  hide-footer>

          <supported-browser></supported-browser>

        </b-modal >


        <header>
          
          <!-- Navbar  -->
          <navbar-creator :version="version" 
                          :architecture_name="architecture_name">
          </navbar-creator>

          <!-- Configuration modal -->
          <b-modal  id="configuration" 
                    title="Configuration" 
                    hide-footer>

            <form-configuration :instructions_packed="instructionsPacked" 
                                :autoscroll="autoscroll" 
                                :notification_time="notificationTime" 
                                :dark="dark" 
                                :c_debug="c_debug">
            </form-configuration>

          </b-modal>

          <!-- Information modals -->

          <!-- Notification modal -->
          <b-modal  id="notifications" 
                    title="Notifications" 
                    hide-footer 
                    scrollable>

            <uielto-notifications :notifications="notifications"></uielto-notifications>

          </b-modal>
          
          <!-- About modal -->
          <b-modal  id="about" 
                    title="About us" 
                    hide-footer 
                    scrollable>

             <uielto-about></uielto-about>

          </b-modal>

          <!-- Instruction Help sidebar -->
          <sidebar-instruction-help id="sidebar_help" :architecture="architecture"></sidebar-instruction-help>

        </header>





















        


        <!-- Load architecture menu -->
        <div class="contenedor row menu_cards" id="load_menu" v-if="creator_mode == 'load_architecture'">
          
          <!-- Navbar -->
          <div class="contenedor menu row my-3">
            <div class="col-lg-3 col-sm-12 nopadding"></div>
            <div class="col-lg-6 col-sm-12 nopadding"></div>
            <div class="col-lg-3 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100"
                              id="conf_btn_men"
                              v-b-modal.configuration>
                      <span class="fa fa-cogs"></span> 
                      Configuration
                    </b-button>
                  </div>
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block btn-sm h-100 infoButton" 
                              id="info_men">
                      <span class="fas fa-info-circle"></span> 
                      Info
                    </b-button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <popover-info target="info_men" show_instruction_help="false"></popover-info>

          <!-- Architecture menu -->
          <div class="col-lg-12 col-sm-12" id="load_menu_arch">
            <div class="col-lg-12 col-sm-12 row nopadding nomargin">

              <div class="col-lg-1 col-sm-1">
                
              </div>
              <div class="col-lg-10 col-sm-10">
                <b-list-group>
                  <b-list-group-item>
                    <b-card no-body class="overflow-hidden arch_card architectureCard" 
                            v-for="(item, index) in arch_available" 
                            @mouseover="change_background(item.name, 1)"
                            @mouseout="change_background(item.name, 0)" 
                            :border-variant=back_card[index].background>
                      <b-row no-gutters>
                        <b-col md="3" @click="load_arch_select(item)">
                          <b-card-img :src=item.img :alt=item.alt thumbnail fluid class="rounded-0"></b-card-img>
                        </b-col>

                        <b-col md="7" @click="load_arch_select(item)">
                          <b-card-body :title=item.name title-tag="h2">
                            <b-card-text class="justify">
                              {{item.description}}
                            </b-card-text>
                          </b-card-body>
                        </b-col>

                        <b-col md="2" >
                          <b-button class="btn btn-outline-danger btn-sm btn-block buttonBackground arch_delete" 
                                    @click.stop="modal_remove_cache_arch(index, item.name, $event.target)"
                                    v-if="default_arch(item.name) == true" 
                                    :id="'delete_'+item.name">
                            <span class="far fa-trash-alt"></span>
                            Delete
                          </b-button>
                        </b-col>
                      </b-row>
                    </b-card>

                    <!-- Delete architecture modal -->
                    <b-modal id ="modalDeletArch" 
                             :title="modalDeletArch.title" 
                             ok-variant="danger" 
                             ok-title="Delete" 
                             @ok="remove_cache_arch(modalDeletArch.index)">
                      <span class="h6">Are you sure you want to delete the architecture?</span>
                    </b-modal >

                    <b-card no-body class="overflow-hidden arch_card architectureCard">
                      <b-row no-gutters @click="new_arch">
                        <b-col md="3" class="center">
                          <b-card-img src="./images/new_icon.png" 
                                      alt="new icon" 
                                      class="rounded-0 architectureImg">
                          </b-card-img>
                        </b-col>

                        <b-col md="9">
                          <b-card-body title="New Architecture" title-tag="h2" >
                            <b-card-text class="justify">
                              Allows you to define an architecture from scratch.
                            </b-card-text>
                          </b-card-body>
                        </b-col>
                      </b-row>
                    </b-card>

                    <b-card no-body class="overflow-hidden arch_card architectureCard" 
                            v-b-modal.load_arch>
                      <b-row no-gutters>
                         <b-col md="3" class="center">
                          <b-card-img src="./images/load_icon.png" 
                                      alt="load icon" class="rounded-0 architectureImg">
                          </b-card-img>
                        </b-col>

                        <b-col md="9">
                          <b-card-body title="Load Architecture" title-tag="h2">
                            <b-card-text class="justify">
                              Allows to load the definition of an already created architecture.
                            </b-card-text>
                          </b-card-body>
                        </b-col>
                      </b-row>

                      <!-- Load new architecture modal -->
                      <b-modal id="load_arch" title="Load Architecture" v-model="showLoadArch" @ok="read_arch">
                        <b-form>
                          <b-form-input v-on:input="debounce('name_arch', $event)" 
                                        :value="name_arch" 
                                        placeholder="Enter the name of the architecture" 
                                        :state="valid(name_arch)" 
                                        title="Architecture Name">
                          </b-form-input>
                          <br>
                          <b-form-textarea v-on:input="debounce('description_arch', $event)" 
                                           :value="description_arch" 
                                           placeholder="Enter a description of the architecture" 
                                           rows="3" 
                                           title="Architecture Description">
                          </b-form-textarea>
                          <br>
                          <b-form-file v-model="load_arch" 
                                       placeholder="Choose a file..." 
                                       id="arch_file" 
                                       accept=".json" 
                                       :state="valid(load_arch)">
                          </b-form-file>
                        </b-form>
                      </b-modal>

                    </b-card>
                  </b-list-group-item>
                </b-list-group>
              </div>
              <div class="col-lg-1 col-sm-1">
                
              </div>
            </div>
            <br>








            <!-- Backup modal -->
            <b-modal id="copy" hide-footer hide-header ref="copyRef" size="sm" centered>

              <uielto-backup :date_copy="date_copy"></uielto-backup>

            </b-modal>
          </div>

        </div>










        <!-- Architecture editor view -->
        <div class="contenedor row menu_cards" id="architecture_menu" v-if="creator_mode == 'architecture'">

          <!-- Navbar -->
          <div class="contenedor menu row my-3">
            <div class="col-lg-3 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm assembly_btn btn_arch h-100" 
                              id="assembly_btn_arch" 
                              @click="change_UI_mode('assembly')">
                      <span class="fas fa-hashtag"></span>
                      Assembly
                    </b-button>
                  </div>
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm simulator_btn btn_arch h-100"
                              id="sim_btn_arch"
                              @click="change_UI_mode('simulator')">
                      <span class="fas fa-cogs"></span> 
                      Simulator
                    </b-button>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-4 col-sm-4 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100" 
                              id="save_btn_arch" 
                              v-b-modal.save_architecture>
                      <span class="fas fa-download"></span> 
                      Save
                    </b-button>
                  </div>
                  <div class="col-lg-8 col-sm-4 buttons" @click="change_mode">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100"
                              id="advanced_mode1" 
                              v-if="advanced_mode == true">
                      Advanced Mode: deactivated
                    </b-button>
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100"  
                              id="advanced_mode2" 
                              v-if="advanced_mode == false">
                      Advanced Mode: activate
                    </b-button>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-2 col-sm-12 nopadding"></div>

            <div class="col-lg-3 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100" 
                              id="conf_btn_arch" 
                              v-b-modal.configuration>
                      <span class="fa fa-cogs"></span> 
                      Configuration
                    </b-button>
                  </div>
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block btn-sm h-100 infoButton" 
                              id="info_arch">
                      <span class="fas fa-info-circle"></span> 
                      Info
                    </b-button>
                  </div>
                </div>
              </div>
            </div>









            <!-- Information popover -->
            <popover-info target="info_arch" show_instruction_help="true"></popover-info>








            <!-- Save architecture form -->
            <b-modal id ="save_architecture" title = "Save Architecture" ok-title="Save to File" @ok="arch_save">
              <span class="h6">Enter the name of the architecture to save:</span>
              <br>
              <b-form-input v-on:input="debounce('name_arch_save', $event)" 
                            :value="name_arch_save" 
                            type="text" 
                            placeholder="Enter the name" 
                            class="form-control form-control-sm fileForm" 
                            title="Save Architecture"
                            :state="valid(name_arch_save)">
              </b-form-input>
            </b-modal>
          </div>

          <!-- Instruction set -->
          <div class="contenedor menu row">

            <!-- Architecture components -->
            <div class="col-lg-12 col-sm-12" id="view_components">
              <b-tabs>

                <!-- Memory layout -->
                <b-tab title="Memory Layout" active>
                  
                  <!-- Memory layout form -->
                  <div class="col-lg-12 col-sm-12 row memoryLayoutDiv">
                    <div class="col-lg-12 col-sm-12">
                      <span class="h6">Memory layout:</span>
                      <div class="col-lg-12 col-sm-12 row">
                        <div class="compMenu">
                          <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100 w-100" 
                                    v-b-modal.change>
                            <span class="fas fa-exchange-alt"></span> 
                            Change memory layout
                          </b-button>
                        </div>
                        <div class="compMenu">
                          <b-button class="btn btn-outline-danger btn-sm buttonBackground h-100 w-100" 
                                    id="resetMemory" 
                                    @click="resetMemModal(architecture_name, $event)"> 
                            <span class="fas fa-power-off"></span>
                            Reset memory layout
                          </b-button>
                        </div>
                      </div>

                      <br>

                      <!-- Reset memory layout -->
                      <b-modal id ="modalResetMem" 
                               :title="modalResetMem.title"
                               ok-variant="danger" 
                               ok-title="Reset" 
                               @ok="resetMemory(modalResetMem.element)">
                        <span class="h6">Are you sure you want to reset the mememory layout set?</span>
                      </b-modal >

                      <!-- Change memory layout -->
                      <b-modal id ="change" 
                               title="Change memory layout" 
                               ok-title="Change" 
                               @ok="changeMemoryLayout">
                        <span class="h6">.text Start:</span>
                        <b-form-input type="text" 
                                      v-on:input="debounce('memory_layout[0]', $event)" 
                                      :value="memory_layout[0]" 
                                      required 
                                      size="sm" 
                                      title=".text start" 
                                      class="memoryLayoutForm">
                        </b-form-input>
                        <span class="h6">.text End:</span>
                        <b-form-input type="text" 
                                      v-on:input="debounce('memory_layout[1]', $event)" 
                                      :value="memory_layout[1]" 
                                      required 
                                      size="sm" 
                                      title=".text end" 
                                      class="memoryLayoutForm">
                        </b-form-input>
                        <span class="h6">.data Start:</span>
                        <b-form-input type="text" 
                                      v-on:input="debounce('memory_layout[2]', $event)" 
                                      :value="memory_layout[2]" 
                                      required 
                                      size="sm" 
                                      title=".data tart" 
                                      class="memoryLayoutForm">
                        </b-form-input>
                        <span class="h6">.data End:</span>
                        <b-form-input type="text" 
                                      v-on:input="debounce('memory_layout[3]', $event)" 
                                      :value="memory_layout[3]" 
                                      required 
                                      size="sm" 
                                      title=".data end" 
                                      class="memoryLayoutForm">
                        </b-form-input>
                        <span class="h6">.stack End:</span>
                        <b-form-input type="text" 
                                      v-on:input="debounce('memory_layout[4]', $event)" 
                                      :value="memory_layout[4]" 
                                      required 
                                      size="sm" 
                                      title=".stack start" 
                                      class="memoryLayoutForm">
                        </b-form-input>
                        <span class="h6">.stack Start:</span>
                        <b-form-input type="text" 
                                      v-on:input="debounce('memory_layout[5]', $event)" 
                                      :value="memory_layout[5]"
                                      required size="sm" 
                                      title=".stack end" 
                                      class="memoryLayoutForm">
                        </b-form-input>
                      </b-modal >
                    </div>

                    <div class="col-lg-3 col-sm-12 ">

                    </div>

                    <!-- Memory layout sketch -->
                    <div class="col-lg-6 col-sm-12 ">
                      <b-list-group class="memoryLayout">
                        <b-list-group horizontal>
                          <b-list-group-item variant="info" class="memoryLayout">
                            <br>
                            .text
                            <br>
                          </b-list-group-item>
                          <b-list-group-item class="memoryLayout noBorder left">
                            <span class="h6" v-if="architecture.memory_layout.length > 0">
                              0x{{((architecture.memory_layout[0].value).toString(16)).padStart(8, "0").toUpperCase()}}
                            </span>
                            <br>
                            <br>
                            <span class="h6" v-if="architecture.memory_layout.length > 0">
                              0x{{((architecture.memory_layout[1].value).toString(16)).padStart(8, "0").toUpperCase()}}
                            </span>
                          </b-list-group-item>
                        </b-list-group>

                        <b-list-group horizontal>
                          <b-list-group-item variant="warning" class="memoryLayout"><br>.data<br></b-list-group-item>
                          <b-list-group-item class="memoryLayout noBorder left">
                            <span class="h6" v-if="architecture.memory_layout.length > 0">
                              0x{{((architecture.memory_layout[2].value).toString(16)).padStart(8, "0").toUpperCase()}}
                            </span>
                            <br>
                            <br>
                            <span class="h6" v-if="architecture.memory_layout.length > 0">
                              0x{{((architecture.memory_layout[3].value).toString(16)).padStart(8, "0").toUpperCase()}}
                            </span>
                          </b-list-group-item>
                        </b-list-group>

                        <b-list-group horizontal>
                          <b-list-group-item variant="secondary" class="memoryLayout">
                            <br>
                            ...
                            <br>
                            <br>
                          </b-list-group-item>
                          <b-list-group-item class="memoryLayout noBorder">
                            
                          </b-list-group-item>
                        </b-list-group>

                        <b-list-group horizontal>
                          <b-list-group-item variant="success" class="memoryLayout">
                            <br>
                            stack
                            <br>
                          </b-list-group-item>
                          <b-list-group-item class="memoryLayout noBorder left">
                            <span class="h6" v-if="architecture.memory_layout.length > 0">
                              0x{{((architecture.memory_layout[4].value).toString(16)).padStart(8, "0").toUpperCase()}}
                            </span>
                            <br>
                            <br>
                            <span class="h6" v-if="architecture.memory_layout.length > 0">
                              0x{{((architecture.memory_layout[5].value).toString(16)).padStart(8, "0").toUpperCase()}}
                            </span>
                          </b-list-group-item>
                        </b-list-group>
                      </b-list-group>
                    </div>

                    <div class="col-lg-3 col-sm-12 ">

                    </div>

                  </div>
                </b-tab>

                <!-- Components -->
                <b-tab title="Components" :disabled="advanced_mode" v-if="!advanced_mode">
                  <br>
                  <span class="h6">Components of the architecture:</span>

                  <div class="col-lg-12 col-sm-12 row">
                    <div class="compMenu">
                      <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100" 
                                id="newComponentBtn" 
                                v-b-modal.new_component> 
                        <span class="fas fa-plus-circle"></span> 
                        New component
                      </b-button>
                    </div>

                    <div class="compMenu">
                      <b-button class="btn btn-outline-danger btn-sm buttonBackground h-100"
                                id="resetArchitecture"
                                @click="resetArchModal(architecture_name, $event)">
                        <span class="fas fa-power-off"></span>
                        Reset architecture
                      </b-button>
                    </div>

                    <div class="compMenu">
                      <b-form-input v-on:input="debounce('number_bits', $event)" 
                                    :value="number_bits" 
                                    type="number" 
                                    min="0" 
                                    placeholder="Enter bits of architecture" 
                                    title="Architecture bits" 
                                    size="sm">
                      </b-form-input>
                    </div>
                  </div>

                  <!-- New component form-->
                  <b-modal id ="new_component" title = "New Component" ok-title="Save" @ok="newComponentVerify" v-model="showNewComponent" @hidden="emptyFormArch">
                    <b-form>
                      <b-form-group label="Name:">
                        <b-form-input type="text" 
                                      v-on:input="debounce('formArchitecture.name', $event)" 
                                      :value="formArchitecture.name" 
                                      required 
                                      placeholder="Enter name" 
                                      :state="valid(formArchitecture.name)" 
                                      size="sm" 
                                      title="New component name">
                        </b-form-input>
                      </b-form-group>
                      <b-form-group label="Type:">
                        <b-form-select :options="componentsTypes" 
                                       required 
                                       v-model="formArchitecture.type" 
                                       :state="valid(formArchitecture.type)" 
                                       size="sm"
                                       title="Component type">
                      </b-form-select>
                      </b-form-group>
                      <b-form-group v-if="formArchitecture.type == 'floating point'">
                        <b-form-checkbox-group v-model="formArchitecture.precision">
                          <b-form-checkbox value="precision">
                            Double Precision
                          </b-form-checkbox>
                        </b-form-checkbox-group>
                      </b-form-group>
                    </b-form>
                  </b-modal >

                  <!-- Reset components -->
                  <b-modal id ="modalResetArch" 
                           :title="modalResetArch.title" 
                           ok-variant="danger" 
                           ok-title="Reset" 
                           @ok="resetArchitecture(modalResetArch.element)">
                    <span class="h6">Are you sure you want to reset the architecture?</span>
                  </b-modal >
                  
                  <!-- Components table -->
                  <div class="col-lg-12 col-sm-12 nopadding">
                    <br>
                    <div class="col-lg-12 col-sm-12 pl-0" v-for="item in architecture_hash">

                      <!-- For each component -->
                      <b-card no-body class="mb-1">
                        <b-card-header header-tag="header" class="p-1" role="tab">
                          <b-btn block href="#" 
                                 v-b-toggle="item.index.toString()" 
                                 class="btn btn-outline-secondary btn-sm buttonBackground">
                            {{item.name}}
                          </b-btn>
                        </b-card-header>
                        <b-collapse :id="item.index.toString()"
                                    visible accordion="my-accordion" 
                                    role="tabpanel" 
                                    class="architecture-scroll-y">
                          <b-card-body>

                            <!-- Elements table -->
                             <b-table :items="architecture.components[item.index].elements" 
                                      class="text-center" 
                                      :fields="archFields" 
                                      v-if="architecture.components[item.index].elements.length > 0" 
                                      sticky-header>

                              <!-- For each element -->

                              <template v-slot:cell(name)="row">
                                {{architecture.components[item.index].elements[row.index].name.join(' | ')}}
                              </template>

                              <template v-slot:cell(ID)="row">
                                {{element_id(architecture.components[item.index].elements[row.index].name, architecture.components[item.index].type, architecture.components[item.index].double_precision)}}
                              </template>

                              <template v-slot:cell(properties)="row">
                                <b-badge class="m-1" v-for="propertie in architecture.components[item.index].elements[row.index].properties" pill variant="primary">{{propertie}}</b-badge>
                              </template>

                              <template v-slot:cell(actions)="row">
                                <b-button @click.stop="editElemModal(row.item.name, item.index, $event.target)" 
                                          class="btn btn-outline-secondary btn-sm buttonBackground h-100">
                                  <span class="far fa-edit"></span>
                                  Edit
                                </b-button>
                                <b-button @click.stop="delElemModal(row.item.name, $event.target)"
                                          class="btn btn-outline-danger btn-sm buttonBackground h-100">
                                  <span class="far fa-trash-alt"></span>
                                  Delete
                                </b-button> 
                              </template>
                             </b-table>

                            <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100" 
                                      :id="'new '+item.name" 
                                      @click="newElemModal(item.name, item.index, $event.target)"> 
                              <span class="fas fa-plus-circle"></span> 
                              New Element
                            </b-button>

                            <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100" 
                                      :id="'edit '+item.name" 
                                      @click="editCompModal(item.name, item.index, $event.target)">
                                      <span class="far fa-edit"></span>
                              Edit Component
                            </b-button>

                            <b-button class="btn btn-outline-danger btn-sm buttonBackground h-100" 
                                      :id="'delete '+item.name"
                                      @click="delCompModal(item.name, $event.target)">
                              <span class="far fa-trash-alt"></span>
                              Delete Component
                            </b-button>
                          </b-card-body>
                        </b-collapse>
                      </b-card>
                    </div>

                    <!-- Component edit form-->
                    <b-modal id ="modalEditComponent" 
                             :title = "modalEditComponent.title" 
                             ok-title="Save" 
                             @ok="editCompVerify($event, modalEditComponent.element)" 
                             v-model="showEditComponent" 
                             @hidden="emptyFormArch">
                      <b-form>
                        <b-form-group label="Name:">
                          <b-form-input type="text" 
                                        :state="valid(formArchitecture.name)" 
                                        v-on:input="debounce('formArchitecture.name', $event)" 
                                        :value="formArchitecture.name" 
                                        required 
                                        placeholder="Enter name" 
                                        size="sm" 
                                        title="Name">
                          </b-form-input>
                        </b-form-group>
                      </b-form>
                    </b-modal >

                    <!-- Delete component -->
                    <b-modal id ="modalDeletComp" 
                             :title="modalDeletComp.title" 
                             ok-variant="danger" 
                             ok-title="Delete" 
                             @ok="delComponent(modalDeletComp.element)">
                      <span class="h6">Are you sure you want to delete the component?</span>
                    </b-modal >

                    <!-- New element form -->
                    <b-modal id ="modalNewElement" 
                             :title = "modalNewElement.title" 
                             ok-title="Save" 
                             @ok="newElementVerify($event, modalNewElement.element)" 
                             v-model="showNewElement" 
                             @hidden="emptyFormArch">
                      <b-form >
                        <b-form-group label="Name:">
                          <b-form-tags
                            v-model="formArchitecture.name"
                            separator=" ,;"
                            placeholder="Enter new register name"
                            no-add-on-enter
                            required 
                            size="lg"
                            tag-variant="primary"
                            tag-pills 
                            title="Element name"
                          ></b-form-tags>
                        </b-form-group>
                        <b-form-group label="ID:">
                          <b-form-input type="text" 
                                        v-on:input="debounce('formArchitecture.id', $event)" 
                                        :value="formArchitecture.id" 
                                        required 
                                        size="sm" 
                                        title="Element ID"
                                        disabled>
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="Default value:" 
                                      v-if="modalNewElement.double_precision == false">
                          <b-form-input type="text" 
                                        :state="valid(formArchitecture.defValue)" 
                                        v-on:input="debounce('formArchitecture.defValue', $event)" 
                                        :value="formArchitecture.defValue" 
                                        required 
                                        placeholder="Enter default value" 
                                        size="sm" 
                                        title="Default value">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group v-if="modalNewElement.type != 'control'" label="Properties:">
                          <b-form-checkbox-group v-model="formArchitecture.properties">
                            <b-form-checkbox value="read">Read</b-form-checkbox>
                            <b-form-checkbox value="write">Write</b-form-checkbox>
                            <b-form-checkbox value="ignore_write">Ignore Write</b-form-checkbox>
                            <b-form-checkbox value="saved">Saved</b-form-checkbox>
                            <b-form-checkbox value="pointer">Pointer</b-form-checkbox>
                            <b-form-checkbox value="data">Data</b-form-checkbox>
                            <b-form-checkbox value="code">Code</b-form-checkbox>
                            <b-form-checkbox value="stack">Stack</b-form-checkbox>
                            <b-form-checkbox value="frame">Frame</b-form-checkbox>
                          </b-form-checkbox-group>
                        </b-form-group>
                        <b-form-group label="Simple Floating Points asociate:" v-if="modalNewElement.double_precision == true">
                          <div class="col-lg-12 col-sm-12 row nomargin">
                            <div class="col-lg-6 col-sm-6">
                              <b-form-select required 
                                             v-model="formArchitecture.simple1" 
                                             :state="valid(formArchitecture.simple1)" 
                                             size="sm" 
                                             :options="simple_reg"
                                             title="First part of double">
                              </b-form-select>
                            </div>
                            <div class="col-lg-6 col-sm-6">
                              <b-form-select required 
                                             v-model="formArchitecture.simple2" 
                                             :state="valid(formArchitecture.simple2)" 
                                             size="sm" 
                                             :options="simple_reg"
                                             title="Second part of double">
                              </b-form-select>
                            </div>
                          </div>
                        </b-form-group>
                      </b-form>
                    </b-modal >

                    <!-- Edit element form -->
                    <b-modal id ="modalEditElement" 
                             :title="modalEditElement.title" 
                             ok-title="Save"
                             @ok="editElementVerify($event, modalEditElement.element)" 
                             v-model="showEditElement" 
                             @hidden="emptyFormArch">
                      <b-form>
                        <b-form-group label="Name:">
                          <b-form-tags
                            v-model="formArchitecture.name"
                            separator=" ,;"
                            placeholder="Enter new register name"
                            no-add-on-enter
                            required 
                            size="lg"
                            tag-variant="primary"
                            tag-pills 
                            title="Element name"
                          ></b-form-tags>

                        </b-form-group>
                        <b-form-group label="ID:">
                          <b-form-input type="text" 
                                        v-on:input="debounce('formArchitecture.id', $event)" 
                                        :value="formArchitecture.id" 
                                        required 
                                        size="sm" 
                                        title="Element ID" 
                                        disabled>
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="Default value:" 
                                      v-if="modalEditElement.double_precision == false">
                          <b-form-input type="text" 
                                        v-on:input="debounce('formArchitecture.defValue', $event)" 
                                        :value="formArchitecture.defValue" 
                                        required 
                                        placeholder="Enter default value" 
                                        :state="valid(formArchitecture.defValue)" 
                                        size="sm" 
                                        title="Default value">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="Properties:">
                          <b-form-checkbox-group v-model="formArchitecture.properties" v-if="modalEditElement.type != 'control'">
                            <b-form-checkbox value="read">Read</b-form-checkbox>
                            <b-form-checkbox value="write">Write</b-form-checkbox>
                            <b-form-checkbox value="ignore_write">Ignore Write</b-form-checkbox>
                            <b-form-checkbox value="saved">Saved</b-form-checkbox>
                            <b-form-checkbox value="pointer">Pointer</b-form-checkbox>
                            <b-form-checkbox value="data">Data</b-form-checkbox>
                            <b-form-checkbox value="code">Code</b-form-checkbox>
                            <b-form-checkbox value="stack">Stack</b-form-checkbox>
                            <b-form-checkbox value="frame">Frame</b-form-checkbox>
                          </b-form-checkbox-group>
                        </b-form-group>
                        <b-form-group label="Simple Floating Points asociate:" v-if="modalEditElement.double_precision == true">
                          <div class="col-lg-12 col-sm-12 row nomargin">
                            <div class="col-lg-6 col-sm-6">
                              <b-form-select required 
                                             v-model="formArchitecture.simple1" 
                                             :state="valid(formArchitecture.simple1)" 
                                             size="sm" 
                                             :options="simple_reg"
                                             title="First part of double">
                              </b-form-select>
                            </div>
                            <div class="col-lg-6 col-sm-6">
                              <b-form-select required 
                                             v-model="formArchitecture.simple2" 
                                             :state="valid(formArchitecture.simple2)" 
                                             size="sm" 
                                             :options="simple_reg"
                                             title="Second part of double">
                              </b-form-select>
                            </div>
                          </div>
                        </b-form-group>
                      </b-form>
                    </b-modal >

                    <!-- Delete element -->
                    <b-modal id ="modalDeletElement" 
                             :title="modalDeletElement.title" 
                             ok-variant="danger" 
                             ok-title="Delete" 
                             @ok="delElement(modalDeletElement.element)">
                      <span class="h6">Are you sure you want to delete the item?</span>
                    </b-modal >
                  </div>
                </b-tab>

                <!-- Instruction definition -->
                <b-tab title="Instructions Definition" :disabled="advanced_mode" v-if="!advanced_mode">
                  <br>
                  <span class="h6">Instruction set:</span>
                  <br>
                  <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100" 
                            id="newInstructionBtn" 
                            v-b-modal.new_instruction> 
                    <span class="fas fa-plus-circle"></span>
                    New instruction
                  </b-button>

                  <b-button class="btn btn-outline-danger btn-sm buttonBackground h-100" 
                            id="resetInstructions" 
                            @click="resetInstModal(architecture_name, $event)"> 
                    <span class="fas fa-power-off"></span> 
                    Reset Instructions
                  </b-button>

                  <!-- New instruction form -->
                  <b-modal size="lg" 
                           id ="new_instruction" 
                           title = "New Instruction" 
                           ok-title="Save" 
                           @ok="newInstVerify" 
                           v-model="showNewInstruction" 
                           @hidden="emptyFormInst">
                    <b-form>

                      <!-- Page 1 -->
                      <div id="newInstForm1" v-if="instructionFormPage == 1">
                        <b-form-group label="Name:">
                          <b-form-input type="text" 
                                        v-on:input="debounce('formInstruction.name', $event)" 
                                        :value="formInstruction.name" 
                                        required 
                                        placeholder="Enter name" 
                                        :state="valid(formInstruction.name)" 
                                        size="sm" 
                                        title="Intruction name">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="Type:">
                          <b-form-select v-model="formInstruction.type" 
                                         :options="instructionsTypes" 
                                         :state="valid(formInstruction.type)" 
                                         size="sm"
                                         title="Instruction type">
                          </b-form-select>
                        </b-form-group>
                        <b-form-group label="Number of Words:">
                          <b-form-input type="number" 
                                        min="1" 
                                        v-on:input="debounce('formInstruction.nwords', $event)" 
                                        :value="formInstruction.nwords" 
                                        required 
                                        placeholder="Enter nwords" 
                                        :state="valid(formInstruction.nwords)" 
                                        size="sm" 
                                        title="Intruction size">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="Number of fields: (Including co and cop)">
                          <b-form-input type="text" 
                                        min="1" 
                                        :max="32 * formInstruction.nwords" 
                                        v-on:input="debounce('formInstruction.numfields', $event)" 
                                        :value="formInstruction.numfields" 
                                        required
                                        placeholder="Enter number of fields" 
                                        :state="valid(formInstruction.numfields)" 
                                        size="sm" 
                                        @change="changeNumfield(0)" 
                                        title="Intruction fields">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="Properties:">
                          <b-form-checkbox-group v-model="formInstruction.properties">
                            <b-form-checkbox value="enter_subrutine">Enter Subrutine</b-form-checkbox>
                            <b-form-checkbox value="exit_subrutine">Exit Subrutine</b-form-checkbox>
                          </b-form-checkbox-group>
                        </b-form-group>
                        <div class="d-none">
                          <b-form-input type="text" 
                                        v-model="formInstruction.numfieldsAux" 
                                        title="Intruction fields">
                          </b-form-input>
                        </div>
                      </div>

                      <!-- Page 2 -->
                      <div id="newInstForm2" v-if="instructionFormPage == 2">
                        <div class="col-lg-14 col-sm-14 row">
                          <div class="col-lg-1 col-1 fields">
                            
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <span class="h6">Name:</span>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <span class="h6">Type</span>
                          </div>
                          <div class="col-lg-1 col-1 fields">
                            <span class="h6">Break</span>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <span class="h6">Start Bit</span>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <span class="h6">End Bit</span>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <span class="h6">Value</span>
                          </div>
                        </div>

                        <div v-if="isNaN(parseInt(formInstruction.numfieldsAux)) == false">
                          <div v-for="i in parseInt(formInstruction.numfieldsAux)">
                            <div class="col-lg-14 col-sm-14 row">
                              <div class="col-lg-1 col-1 fields">
                                <span class="h6">Field {{i-1}}</span>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-input type="text" 
                                                v-on:input="debounce('formInstruction.nameField['+i+'-1]', $event)" 
                                                :value="formInstruction.nameField[i-1]" 
                                                required 
                                                :state="valid(formInstruction.nameField[i-1])" 
                                                size="sm" 
                                                v-if="(i-1) != 0" 
                                                title="Field name">
                                  </b-form-input>
                                  <b-form-input type="text" 
                                                v-model="formInstruction.nameField[i-1]=formInstruction.name" 
                                                required 
                                                size="sm" 
                                                v-if="(i-1) == 0" 
                                                disabled 
                                                title="Field name">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-select v-model="formInstruction.typeField[i-1]" 
                                                 required 
                                                 :state="valid(formInstruction.typeField[i-1])" 
                                                 size="sm" 
                                                 v-if="(i-1) != 0"
                                                 title="Field type">
                                    <option value="INT-Reg">INT-Reg</option>
                                    <option value="SFP-Reg">SFP-Reg</option>
                                    <option value="DFP-Reg">DFP-Reg</option>
                                    <option value="Ctrl-Reg">Ctrl-Reg</option>
                                    <option value="inm-signed">inm-signed</option>
                                    <option value="inm-unsigned">inm-unsigned</option>
                                    <option value="address">address</option>
                                    <option value="offset_bytes">Offset Bytes</option>
                                    <option value="offset_words">Offset Words</option>
                                    <option value="cop" :disabled="formInstruction.assignedCop!=false">cop</option>
                                  </b-form-select>
                                  <b-form-input type="text" 
                                                v-model="formInstruction.typeField[i-1]='co'" 
                                                required 
                                                size="sm" 
                                                v-if="(i-1) == 0" 
                                                disabled>
                                  </b-form-input title="Field type">
                                </b-form-group>
                              </div>
                            <div class="col-lg-1 col-1 fields">
                                <b-form-checkbox
                                    :id="'fragment-'+ i"
                                    :value="true"
                                    v-model="formInstruction.separated[i-1]"
                                    @change="changeToSeparateValue($event, i-1)"
                                    v-if="fragmentData.indexOf(formInstruction.typeField[i-1]) !== -1"
                                    class="ml-3">
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                    <b-form-input
                                       type="number"
                                       min="0"
                                       :max="32 * formInstruction.nwords - 1"
                                       v-on:input="debounce('formInstruction.startBitField['+i+'-1]', $event)" 
                                       :value="formInstruction.startBitField[i-1]" 
                                       required 
                                       :state="valid(formInstruction.startBitField[i-1])" 
                                       size="sm"
                                       v-if="typeof(formInstruction.startBitField[i-1]) !== 'object'"
                                       title="Field start bit">
                                    </b-form-input>
                                    <b-form-input
                                       v-else 
                                       v-for="(j, ind) in formInstruction.startBitField[i-1]"
                                       type="number" 
                                       min="0" 
                                       :max="32 * formInstruction.nwords - 1"
                                       v-on:input="debounce('formInstruction.startBitField['+i+'-1]['+ind+']', $event)"
                                       :value="formInstruction.startBitField[i-1][ind]" 
                                       required
                                       :state="valid(j)"
                                       size="sm"
                                       class="mb-2"
                                       title="Field start bit">
                                    </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-input
                                      type="number"
                                      min="0"
                                      :max="32 * formInstruction.nwords - 1"
                                      v-on:input="debounce('formInstruction.stopBitField['+i+'-1]', $event)"
                                      :value="formInstruction.stopBitField[i-1]"
                                      required
                                      :state="valid(formInstruction.stopBitField[i-1])"
                                      size="sm"
                                      v-if="typeof(formInstruction.stopBitField[i-1]) !== 'object'"
                                      title="Field end bit">
                                    </b-form-input>

                                    <b-form-input
                                      v-else v-for="(j, ind) in formInstruction.stopBitField[i-1]"
                                      type="number" min="0" :max="32 * formInstruction.nwords - 1"
                                      v-on:input="debounce('formInstruction.stopBitField['+i+'-1]['+ind+']', $event)"
                                      :value="formInstruction.stopBitField[i-1][ind]"
                                      required
                                      :state="valid(j)"
                                      size="sm"
                                      class="mb-2"
                                      title="Field end bit">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields" v-if="formInstruction.typeField[i-1] == 'co'">
                                <b-form-group v-if="typeof(formInstruction.stopBitField[i-1]) != 'object'">
                                  <b-form-input type="text" 
                                                v-on:input="debounce('formInstruction.co', $event)" 
                                                :value="formInstruction.co" 
                                                required 
                                                :state="valid(formInstruction.co)" 
                                                size="sm" 
                                                title="Instruction CO">
                                  </b-form-input>
                                </b-form-group>
                                <b-form-group v-else v-for="(j, ind) in formInstruction.stopBitField[i-1]">
                                  <b-form-input type="text"
                                                v-on:input="debounce('formInstruction.co['+ ind + ']', $event)"
                                                :value="formInstruction.co[ind]"
                                                required :state="valid(formInstruction.co[ind])"
                                                size="sm"
                                                title="Instruction CO">
                                  </b-form-input>
                                    
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields" v-if="formInstruction.typeField[i-1] == 'cop'">
                                <b-form-group>
                                  <b-form-input type="text" 
                                                v-on:input="debounce('formInstruction.valueField['+i+'-1]', $event)" 
                                                :value="formInstruction.valueField[i-1]" 
                                                required 
                                                :state="valid(formInstruction.valueField[i-1])" 
                                                size="sm" 
                                                title="Field value">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields" v-if="formInstruction.separated[i-1]">
                                  <b-button variant="primary" 
                                            @click="addMoreFieldsToSeparateValues($event, i-1)" 
                                            size="sm">
                                     + 
                                   </b-button>
                                  <b-button v-if="formInstruction.startBitField[i-1].length > 1" 
                                            variant="danger" 
                                            size="sm" 
                                            @click="lessFieldsToSeparateValues($event, i-1)">
                                     - 
                                   </b-button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Page 3 -->
                      <div id="newInstForm3" v-if="instructionFormPage == 3">
                        <b-form-group label="Assembly Syntax Definition:">
                          <b-form-input type="text" 
                                        v-on:input="debounce('formInstruction.signature_definition', $event)" 
                                        :value="formInstruction.signature_definition" 
                                        placeholder="Example: F0 F2 F1 (F3)" 
                                        required 
                                        :state="valid(formInstruction.signature_definition)" 
                                        v-on:change="generateSignatureInst()" 
                                        size="sm" 
                                        title="Syntax">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="Detailed Syntax:">
                          <b-form-input type="text" 
                                        v-on:input="debounce('formInstruction.signature', $event)" 
                                        :value="formInstruction.signature" 
                                        disabled 
                                        required 
                                        size="sm" 
                                        title="Detailed syntax">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="Assembly Syntax:">
                          <b-form-input type="text" 
                                        v-on:input="debounce('formInstruction.signatureRaw', $event)" 
                                        :value="formInstruction.signatureRaw" 
                                        disabled 
                                        size="sm" 
                                        title="Assembly syntax">
                          </b-form-input>
                        </b-form-group>
                      </div>

                      <!-- Page 4 -->
                      <div id="newInstForm4" v-if="instructionFormPage == 4">
                        <b-form-group label="Assembly Definition:">
                          <b-form-textarea v-on:input="debounce('formInstruction.definition', $event)" 
                                           :value="formInstruction.definition" 
                                           placeholder="Example: reg1=reg2+reg3" 
                                           :state="valid(formInstruction.definition)" 
                                           :rows="4" 
                                           title="Instruction Definition">
                          </b-form-textarea>
                        </b-form-group>
                      </div>

                      <!-- Page 5 -->
                      <div id="newInstForm5" v-if="instructionFormPage == 5">
                        <b-form-group label="Assembly help:">
                          <b-form-textarea v-on:input="debounce('formInstruction.help', $event)" 
                                           :value="formInstruction.help" 
                                           placeholder="Example: reg1=reg2+reg3" 
                                           :rows="4" 
                                           title="Instruction help">
                          </b-form-textarea>
                        </b-form-group>
                      </div>
                    </b-form>
                    <hr>
                    <b-pagination-nav size="sm" 
                                      align="center" 
                                      base-url="#" 
                                      :number-of-pages="5" 
                                      v-model="instructionFormPage" 
                                      :link-gen="linkGen" 
                                      :page-gen="pageGen">
                    </b-pagination-nav>
                  </b-modal >

                  <!-- Reset instruction set -->
                  <b-modal id ="modalResetInst" 
                           :title="modalResetInst.title" 
                           ok-variant="danger" 
                           ok-title="Reset" 
                           @ok="resetInstructions(modalResetInst.element)">
                    <span class="h6">Are you sure you want to reset the instructions?</span>
                  </b-modal >

                  <!-- Instruction set table -->
                  <div class="col-lg-12 col-sm-12 mt-3">
                    <b-table small :items="architecture.instructions" 
                             :fields="instFields" 
                             class="text-center" 
                             sticky-header="60vh"> 

                      <!-- Change the title of each column -->
                      <template v-slot:head(cop)="row">
                        Extended CO
                      </template>

                      <!--<template v-slot:head(signature)="row">
                        Detailed Syntax
                      </template>-->

                      <template v-slot:head(signatureRaw)="row">
                        Instruction syntax
                      </template>

                      <!-- For each instruction -->

                      <template v-slot:cell(properties)="row">
                        <b-badge class="m-1" v-for="propertie in row.item.properties" pill variant="primary">{{propertie}}</b-badge>
                      </template>

                      <template v-slot:cell(signatureRaw)="row">
                          {{row.item.signatureRaw}}
                          <br>
                          {{row.item.signature}}
                      </template>

                      <template v-slot:cell(fields)="row">
                        <b-button @click.stop="viewFielsInst(row.item.name, row.item.co, row.item.cop, $event.target)" 
                                  class="btn btn-outline-secondary btn-sm buttonBackground h-100">
                          View Fields
                        </b-button>
                      </template>

                      <template v-slot:cell(definition)="row">
                        <b-form-textarea v-model="row.item.definition" 
                                         disabled 
                                         no-resize 
                                         rows="1" 
                                         max-rows="4"
                                         title="Instruction Definition">
                        </b-form-textarea>
                      </template>

                      <template v-slot:cell(actions)="row">
                        <b-button @click.stop="editInstModal(row.item.name, row.item.co, row.item.cop, $event.target)" 
                                  class="btn btn-outline-secondary btn-sm buttonBackground h-100">
                          <span class="far fa-edit"></span>
                          Edit
                        </b-button>
                        <b-button @click.stop="delInstModal(row.item.name, row.index, $event.target)" 
                                  class="btn btn-outline-danger btn-sm buttonBackground h-100">
                          <span class="far fa-trash-alt"></span>
                          Delete
                        </b-button> 
                      </template>
                    </b-table>

                    <!-- Instructions fields -->
                    <b-modal size="lg" 
                             id ="modalViewFields" 
                             :title="modalViewFields.title" 
                             hide-footer
                             @hidden="emptyFormInst">
                      <b-form>
                        <div id="viewFields" >
                          <div class="col-lg-14 col-sm-14 row">
                            <div class="col-lg-1 col-1 fields">
                              
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Name:</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Type</span>
                            </div>
                              <div class="col-lg-1 col-1 fields">
                                <span class="h6">Break</span>
                              </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Start Bit</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">End Bit</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Value</span>
                            </div>
                          </div>

                          <div v-if="isNaN(parseInt(formInstruction.numfieldsAux)) == false">
                            <div v-for="i in parseInt(formInstruction.numfieldsAux)">
                              <div class="col-lg-14 col-sm-14 row">
                                <div class="col-lg-1 col-1 fields">
                                  <span class="h6">Field {{i-1}}</span>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="text" 
                                                  v-model="formInstruction.nameField[i-1]" 
                                                  required 
                                                  size="sm" 
                                                  v-if="(i-1) != 0" 
                                                  disabled 
                                                  title="Field name">
                                    </b-form-input>
                                    <b-form-input type="text" 
                                                  v-model="formInstruction.nameField[i-1]=formInstruction.name" 
                                                  required 
                                                  size="sm" 
                                                  v-if="(i-1) == 0"  
                                                  disabled 
                                                  title="Field name">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="text" 
                                                  v-model="formInstruction.typeField[i-1]" 
                                                  required 
                                                  size="sm" 
                                                  disabled 
                                                  title="Field type">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-1 col-1 fields">
                                    <b-form-checkbox :id="'view-fragment-'+ i"
                                                     v-model="formInstruction.separated[i-1]"
                                                     v-if="fragmentData.indexOf(formInstruction.typeField[i-1]) !== -1"
                                                     class="ml-3"
                                                     disabled>
                                </div>
                                <!-- start bit description -->
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input :value="true"
                                                  type="number"
                                                  min="0"
                                                  :max="32 * formInstruction.nwords - 1"
                                                  v-model="formInstruction.startBitField[i-1]"
                                                  required 
                                                  size="sm"
                                                  disabled
                                                  v-if="typeof(formInstruction.startBitField[i-1]) !== 'object'"
                                                  title="Field start bit">
                                    </b-form-input>
                                    <b-form-input v-else 
                                                  v-for="(j, ind) in formInstruction.startBitField[i-1]"
                                                  type="number" 
                                                  min="0" 
                                                  :max="32 * formInstruction.nwords - 1"
                                                  v-model="formInstruction.startBitField[i-1][ind]" 
                                                  required
                                                  class="mb-2"
                                                  disabled
                                                  title="Field start bit">
                                  </b-form-group>
                                </div>
                                <!-- stop bit description -->
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number"
                                                  min="0"
                                                  :max="32 * formInstruction.nwords - 1"
                                                  v-model="formInstruction.stopBitField[i-1]"
                                                  required
                                                  size="sm"
                                                  disabled
                                                  v-if="typeof(formInstruction.stopBitField[i-1]) !== 'object'"
                                                  title="Field end bit">
                                    </b-form-input>
                                    <b-form-input v-else v-for="(j, ind) in formInstruction.stopBitField[i-1]"
                                                  type="number" min="0" :max="32 * formInstruction.nwords - 1"
                                                  v-model="formInstruction.stopBitField[i-1][ind]"
                                                  required
                                                  class="mb-2"
                                                  disabled
                                                  title="Field end bit">
                                    </b-form-input>
                                    
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields" v-if="formInstruction.typeField[i-1] == 'co'">
                                  <b-form-group>
                                    <b-form-input type="text" 
                                                  v-model="formInstruction.co" 
                                                  required 
                                                  size="sm" 
                                                  disabled 
                                                  title="Instruction CO">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields" v-if="formInstruction.typeField[i-1] == 'cop'">
                                  <b-form-group>
                                    <b-form-input type="text" 
                                                  v-on:input="debounce('formInstruction.valueField['+i+'-1]', $event)" 
                                                  :value="formInstruction.valueField[i-1]" 
                                                  required 
                                                  size="sm" 
                                                  disabled 
                                                  title="Field value">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </b-form>
                    </b-modal>

                    <!-- Edit instruction form -->
                    <b-modal size="lg" 
                             id ="modalEditInst" 
                             :title="modalEditInst.title" 
                             ok-title="Save" 
                             @ok="editInstVerify($event, modalEditInst.element, modalEditInst.co, modalEditInst.cop)" 
                             v-model="showEditInstruction" 
                             @hidden="emptyFormInst">
                      <b-form>

                        <!-- Page 1 -->
                        <div id="editInstForm1" v-if="instructionFormPage == 1">
                          <b-form-group label="Name:">
                            <b-form-input type="text" 
                                          v-on:input="debounce('formInstruction.name', $event)" 
                                          :value="formInstruction.name" 
                                          required 
                                          placeholder="Enter name" 
                                          :state="valid(formInstruction.name)" 
                                          size="sm" 
                                          title="Instruction name">
                            </b-form-input>
                          </b-form-group>
                          <b-form-group label="Type:">
                            <b-form-select v-on:input="debounce('formInstruction.type', $event)" 
                                          :value="formInstruction.type" 
                                          :options="instructionsTypes" 
                                          :state="valid(formInstruction.type)" 
                                          size="sm"
                                          title="Instruction type">
                            </b-form-select>
                          </b-form-group>
                          <b-form-group label="Number of Words:">
                            <b-form-input type="number"
                                          min="1" 
                                          v-on:input="debounce('formInstruction.nwords', $event)" 
                                          :value="formInstruction.nwords" 
                                          required 
                                          placeholder="Enter nwords" 
                                          :state="valid(formInstruction.nwords)" 
                                          size="sm" 
                                          title="Instruction size">
                            </b-form-input>
                          </b-form-group>
                          <b-form-group label="Number of fields: (Including co and cop)">
                            <b-form-input type="text" 
                                          min="1" 
                                          :max="32 * formInstruction.nwords" 
                                          v-on:input="debounce('formInstruction.numfields', $event)" 
                                          :value="formInstruction.numfields" 
                                          required 
                                          placeholder="Enter number of fields" 
                                          :state="valid(formInstruction.numfields)" 
                                          size="sm" 
                                          @change="changeNumfield(0)" 
                                          title="Instruction fields">
                            </b-form-input>
                          </b-form-group>
                          <b-form-group label="Properties:">
                            <b-form-checkbox-group v-model="formInstruction.properties">
                              <b-form-checkbox value="enter_subrutine">Enter Subrutine</b-form-checkbox>
                              <b-form-checkbox value="exit_subrutine">Exit Subrutine</b-form-checkbox>
                            </b-form-checkbox-group>
                          </b-form-group>
                          <div class="d-none">
                            <b-form-input type="text" 
                                          v-model="formInstruction.numfieldsAux" 
                                          title="Instruction fields"></b-form-input>
                          </div>

                        </div>

                        <!-- Page 2 -->
                        <div id="editInstForm2" v-if="instructionFormPage == 2">
                          <div class="col-lg-14 col-sm-14 row">
                            <div class="col-lg-1 col-1 fields">
                              
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Name:</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Type</span>
                            </div>
                            <div class="col-lg-1 col-1 fields">
                              <span class="h6">Break</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Start Bit</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">End Bit</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">

                            </div>
                          </div>


                          <div v-if="isNaN(parseInt(formInstruction.numfieldsAux)) == false">
                            <div v-for="i in parseInt(formInstruction.numfieldsAux)">
                              <div class="col-lg-14 col-sm-14 row">
                                <div class="col-lg-1 col-1 fields">
                                  <span class="h6">Field {{i-1}}</span>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="text" 
                                                  v-on:input="debounce('formInstruction.nameField['+i+'-1]', $event)" 
                                                  :value="formInstruction.nameField[i-1]" 
                                                  required 
                                                  :state="valid(formInstruction.nameField[i-1])" 
                                                  size="sm" 
                                                  v-if="(i-1) != 0" 
                                                  title="Field name">
                                    </b-form-input>
                                    <b-form-input type="text" 
                                                  v-model="formInstruction.nameField[i-1]=formInstruction.name" 
                                                  required 
                                                  size="sm" 
                                                  v-if="(i-1) == 0" 
                                                  disabled 
                                                  title="Field name">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-select v-model="formInstruction.typeField[i-1]" 
                                                   required 
                                                   :state="valid(formInstruction.typeField[i-1])" 
                                                   size="sm" 
                                                   v-if="(i-1) != 0"
                                                   title="Field type">
                                      <option value="INT-Reg">INT-Reg</option>
                                      <option value="SFP-Reg">SFP-Reg</option>
                                      <option value="DFP-Reg">DFP-Reg</option>
                                      <option value="Ctrl-Reg">Ctrl-Reg</option>
                                      <option value="inm-signed">inm-signed</option>
                                      <option value="inm-unsigned">inm-unsigned</option>
                                      <option value="address">address</option>
                                      <option value="offset_bytes">Offset Bytes</option>
                                      <option value="offset_words">Offset Words</option>
                                      <option value="cop" :disabled="formInstruction.assignedCop!=false">cop</option>
                                    </b-form-select>
                                    <b-form-input type="text" 
                                                  v-model="formInstruction.typeField[i-1]='co'"
                                                  required 
                                                  size="sm" 
                                                  v-if="(i-1) == 0" 
                                                  disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-1 col-1 fields">
                                  <b-form-checkbox :id="'fragment-'+ i"
                                                   :value="true"
                                                   v-model="formInstruction.separated[i-1]"
                                                   @change="changeToSeparateValue($event, i-1)"
                                                   v-if="fragmentData.indexOf(formInstruction.typeField[i-1]) !== -1"
                                                   class="ml-3">
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" 
                                                  min="0" 
                                                  :max="32 * formInstruction.nwords - 1" 
                                                  v-on:input="debounce('formInstruction.startBitField['+i+'-1]', $event)" 
                                                  :value="formInstruction.startBitField[i-1]" 
                                                  required 
                                                  :state="valid(formInstruction.startBitField[i-1])" 
                                                  size="sm" 
                                                  v-if="typeof(formInstruction.startBitField[i-1]) !== 'object'" 
                                                  title="Field start bit">
                                    </b-form-input>
                                    <b-form-input v-else 
                                                  v-for="(j, ind) in formInstruction.startBitField[i-1]"
                                                  type="number" 
                                                  min="0" 
                                                  :max="32 * formInstruction.nwords - 1"
                                                  v-on:input="debounce('formInstruction.startBitField['+i+'-1]['+ind+']', $event)"
                                                  :value="formInstruction.startBitField[i-1][ind]" 
                                                  required
                                                  :state="valid(j)" 
                                                  size="sm"
                                                  class="mb-2"
                                                  title="Field start bit">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" 
                                                  min="0" 
                                                  :max="32 * formInstruction.nwords - 1" 
                                                  v-on:input="debounce('formInstruction.stopBitField['+i+'-1]', $event)" 
                                                  :value="formInstruction.stopBitField[i-1]" 
                                                  required 
                                                  :state="valid(formInstruction.stopBitField[i-1])" 
                                                  size="sm"
                                                  v-if="typeof(formInstruction.startBitField[i-1]) !== 'object'"
                                                  title="Field end bit">
                                    </b-form-input>
                                    <b-form-input v-else 
                                                  v-for="(j, ind) in formInstruction.stopBitField[i-1]"
                                                  type="number" 
                                                  min="0" 
                                                  :max="32 * formInstruction.nwords - 1"
                                                  v-on:input="debounce('formInstruction.stopBitField['+i+'-1]['+ind+']', $event)"
                                                  :value="formInstruction.stopBitField[i-1][ind]" 
                                                  required
                                                  :state="valid(j)" 
                                                  size="sm"
                                                  class="mb-2"
                                                  title="Field end bit">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields" v-if="formInstruction.typeField[i-1] == 'co'">
                                  <b-form-group v-if="typeof(formInstruction.stopBitField[i-1]) !== 'object'">
                                    <b-form-input type="text" 
                                                  v-on:input="debounce('formInstruction.co', $event)" 
                                                  :value="formInstruction.co" 
                                                  required 
                                                  :state="valid(formInstruction.co)" 
                                                  size="sm" 
                                                  title="Instruction CO">
                                    </b-form-input>
                                  </b-form-group>
                                  <!--<b-form-group else v-for="(j, ind) in formInstruction.stopBitField[i-1]">
                                    <b-form-input type="text" 
                                                  v-on:input="debounce('formInstruction.co['+ind+']', $event)" 
                                                  :value="formInstruction.co[ind]" required 
                                                  :state="valid(formInstruction.co[ind])" 
                                                  size="sm">
                                    </b-form-input>-->
                                </div>
                                <div class="col-lg-2 col-2 fields" v-if="formInstruction.typeField[i-1] == 'cop'">
                                  <b-form-group>
                                    <b-form-input type="text" 
                                                  v-on:input="debounce('formInstruction.valueField['+i+'-1]', $event)" 
                                                  :value="formInstruction.valueField[i-1]" 
                                                  required 
                                                  :state="valid(formInstruction.valueField[i-1])" 
                                                  size="sm" 
                                                  title="Field value">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields" v-if="formInstruction.separated[i-1]">
                                    <b-button variant="primary" 
                                              @click="addMoreFieldsToSeparateValues($event, i-1)" 
                                              size="sm">
                                       + 
                                    </b-button>
                                    <b-button v-if="formInstruction.startBitField[i-1].length > 1" 
                                              variant="danger" 
                                              size="sm"  
                                              @click="lessFieldsToSeparateValues($event, i-1)">
                                      - 
                                    </b-button>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- Page 3 -->
                        <div id="editInstForm3" v-if="instructionFormPage == 3">
                          <b-form-group label="Instruction Syntax Definition:">
                            <b-form-input type="text" 
                                          v-on:input="debounce('formInstruction.signature_definition', $event)" 
                                          :value="formInstruction.signature_definition" 
                                          placeholder="Example: F0 F2 F1 (F3)" 
                                          required 
                                          :state="valid(formInstruction.signature_definition)" 
                                          v-on:change="generateSignatureInst()" 
                                          size="sm" 
                                          title="Syntax">
                            </b-form-input>
                          </b-form-group>
                          <b-form-group label="Detailed Syntax:">
                            <b-form-input type="text" 
                                          v-on:input="debounce('formInstruction.signature', $event)" 
                                          :value="formInstruction.signature" 
                                          disabled 
                                          required 
                                          size="sm" 
                                          title="Detailed syntax">
                            </b-form-input>
                          </b-form-group>
                          <b-form-group label="Instruction Syntax:">
                            <b-form-input type="text" 
                                          v-on:input="debounce('formInstruction.signatureRaw', $event)" 
                                          :value="formInstruction.signatureRaw" 
                                          disabled 
                                          size="sm" 
                                          title="Instruction syntax">
                            </b-form-input>
                          </b-form-group>
                        </div>

                        <!-- Page 4 -->
                        <div id="editInstForm4" v-if="instructionFormPage == 4">
                          <b-form-group label="Assembly Definition:">
                            <b-form-textarea v-on:input="debounce('formInstruction.definition', $event)" 
                                             :value="formInstruction.definition" 
                                             placeholder="Example: reg1=reg2+reg3" 
                                             :state="valid(formInstruction.definition)" 
                                             :rows="4" 
                                             title="Instruction Definition">
                            </b-form-textarea>
                          </b-form-group>
                        </div>

                        <!-- Page 5 -->
                        <div id="editInstForm5" v-if="instructionFormPage == 5">
                          <b-form-group label="Assembly help:">
                            <b-form-textarea v-on:input="debounce('formInstruction.help', $event)" 
                                             :value="formInstruction.help" 
                                             placeholder="Example: reg1=reg2+reg3" 
                                             :rows="4" 
                                             title="Instruction help">
                            </b-form-textarea>
                          </b-form-group>
                        </div>
                      </b-form>
                      <hr>
                      <b-pagination-nav size="sm" 
                                        align="center" 
                                        base-url="#" 
                                        :number-of-pages="5" 
                                        v-model="instructionFormPage" 
                                        :link-gen="linkGen" 
                                        :page-gen="pageGen">
                      </b-pagination-nav>
                    </b-modal>

                    <!-- Delete instruction -->
                    <b-modal id ="modalDeletInst" 
                             :title="modalDeletInst.title" 
                             ok-variant="danger" 
                             ok-title="Delete" 
                             @ok="delInstruction(modalDeletInst.index)">
                      <span class="h6">Are you sure you want to delete the item?</span>
                    </b-modal >
                  </div> 
                </b-tab>

                <!-- Pseudoinstruction definition -->
                <b-tab title="Pseudoinstructions Definition" :disabled="advanced_mode" v-if="!advanced_mode">
                  <br>
                  <span class="h6">Pseudoinstructions set:</span>
                  <br>
                  <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100" 
                            id="newPseudoinstructionsBtn" 
                            v-b-modal.new_pseudoinstruction> 
                    <span class="fas fa-plus-circle"></span> 
                    New pseudoinstructions
                  </b-button>

                  <b-button class="btn btn-outline-danger btn-sm buttonBackground h-100" 
                            id="resetPseudoinstructions" 
                            @click="resetPseudoinstModal(architecture_name, $event)"> 
                    <span class="fas fa-power-off"></span> 
                    Reset pseudoinstructions
                  </b-button>

                  <!-- New pseudoinstruction form -->
                  <b-modal size="lg" 
                           title = "New Pseudoinstruction" 
                           ok-title="Save" 
                           @ok="newPseudoinstVerify" 
                           v-model="showNewPseudoinstruction" 
                           id="new_pseudoinstruction" 
                           @hidden="emptyFormPseudo">
                    <b-form>

                      <!-- Page 1 -->
                      <div id="newPseudoinstForm1" v-if="instructionFormPage == 1">
                        <b-form-group label="Name:">
                          <b-form-input type="text" 
                                        v-on:input="debounce('formPseudoinstruction.name', $event)" 
                                        :value="formPseudoinstruction.name" 
                                        required 
                                        placeholder="Enter name" 
                                        :state="valid(formPseudoinstruction.name)" 
                                        size="sm" 
                                        title="Pseudoinstruction name">
                          </b-form-input>
                        </b-form-group>

                        <b-form-group label="Number of Words:">
                          <b-form-input type="number" 
                                        min="1" 
                                        v-on:input="debounce('formPseudoinstruction.nwords', $event)" 
                                        :value="formPseudoinstruction.nwords" 
                                        required 
                                        placeholder="Enter nwords" 
                                        :state="valid(formPseudoinstruction.nwords)" 
                                        size="sm" 
                                        title="Pseudoinstruction size">
                          </b-form-input>
                        </b-form-group>

                        <b-form-group label="Number of fields: ">
                          <b-form-input type="text" 
                                        min="0" 
                                        :max="32 * formPseudoinstruction.nwords" 
                                        v-on:input="debounce('formPseudoinstruction.numfields', $event)" 
                                        :value="formPseudoinstruction.numfields" 
                                        required 
                                        placeholder="Enter number of fields" 
                                        :state="valid(formPseudoinstruction.numfields)" 
                                        size="sm" 
                                        @change="changeNumfield(1)" 
                                        title="Pseudoinstruction fields">
                          </b-form-input>
                        </b-form-group>
                        <div class="d-none">
                          <b-form-input type="text" 
                                        v-model="formPseudoinstruction.numfieldsAux" 
                                        title="Pseudoinstruction fields">
                          </b-form-input>
                        </div>
                      </div>

                      <!-- Page 2 -->
                      <div id="newPseudoinstForm2" v-if="instructionFormPage == 2">
                        <div class="col-lg-12 col-sm-12 row">
                          <div class="col-lg-2 col-2 fields">
                            
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <span class="h6">Name:</span>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <span class="h6">Type</span>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <span class="h6">Start Bit</span>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <span class="h6">End Bit</span>
                          </div>
                          <div class="col-lg-2 col-2 fields">

                          </div>
                        </div>

                        <div v-if="isNaN(parseInt(formPseudoinstruction.numfieldsAux)) == false">
                          <div v-for="i in parseInt(formPseudoinstruction.numfieldsAux)">
                            <div class="col-lg-12 col-sm-12 row">
                              <div class="col-lg-2 col-2 fields">
                                <span class="h6">Field {{i-1}}</span>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-input type="text" 
                                                v-on:input="debounce('formPseudoinstruction.nameField['+i+'-1]', $event)" 
                                                :value="formPseudoinstruction.nameField[i-1]" 
                                                required 
                                                :state="valid(formPseudoinstruction.nameField[i-1])" 
                                                size="sm" 
                                                title="Filed name">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-select v-model="formPseudoinstruction.typeField[i-1]" 
                                                 required 
                                                 :state="valid(formPseudoinstruction.typeField[i-1])" 
                                                 size="sm"
                                                 title="Field type">
                                    <option value="INT-Reg">INT-Reg</option>
                                    <option value="SFP-Reg">SFP-Reg</option>
                                    <option value="DFP-Reg">DFP-Reg</option>
                                    <option value="Ctrl-Reg">Ctrl-Reg</option>
                                    <option value="inm-signed">inm-signed</option>
                                    <option value="inm-unsigned">inm-unsigned</option>
                                    <option value="address">address</option>
                                    <option value="offset_bytes">Offset Bytes</option>
                                    <option value="offset_words">Offset Words</option>
                                  </b-form-select>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-input type="number" 
                                                min="0" 
                                                :max="32 * formInstruction.nwords - 1" 
                                                v-on:input="debounce('formPseudoinstruction.startBitField['+i+'-1]', $event)" 
                                                :value="formPseudoinstruction.startBitField[i-1]" 
                                                required 
                                                :state="valid(formPseudoinstruction.startBitField[i-1])" 
                                                size="sm" 
                                                title="Filed start bit">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-input type="number" 
                                                min="0" 
                                                :max="32 * formInstruction.nwords - 1" 
                                                v-on:input="debounce('formPseudoinstruction.stopBitField['+i+'-1]', $event)" 
                                                :value="formPseudoinstruction.stopBitField[i-1]" 
                                                required 
                                                :state="valid(formPseudoinstruction.stopBitField[i-1])" 
                                                size="sm" 
                                                title="Filed end bit">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Page 3 -->
                      <div id="newPseudoinstForm3" v-if="instructionFormPage == 3">
                        <b-form-group label="Pseudoinstruction Syntax Definition:">
                            <b-form-input type="text"  
                                          v-on:input="debounce('formPseudoinstruction.signature_definition', $event)" 
                                          :value="formPseudoinstruction.signature_definition" 
                                          placeholder="Example: move $F0 $F1" 
                                          required 
                                          :state="valid(formPseudoinstruction.signature_definition)" 
                                          v-on:change="generateSignaturePseudo()" 
                                          size="sm" 
                                          title="Syntax">
                            </b-form-input>
                          </b-form-group>
                          <b-form-group label="Detailed Syntax:">
                            <b-form-input type="text" 
                                          v-on:input="debounce('formPseudoinstruction.signature', $event)" 
                                          :value="formPseudoinstruction.signature" 
                                          disabled 
                                          required 
                                          size="sm" 
                                          title="Detailed syntax">
                            </b-form-input>
                          </b-form-group>
                          <b-form-group label="Pseudoinstruction Syntax:">
                            <b-form-input type="text" 
                                          v-on:input="debounce('formPseudoinstruction.signatureRaw', $event)" 
                                          :value="formPseudoinstruction.signatureRaw" 
                                          disabled 
                                          size="sm" 
                                          title="Pseudoinstruction syntax">
                            </b-form-input>
                          </b-form-group>
                      </div>

                      <!-- Page 4 -->
                      <div id="newPseudoinstForm4" v-if="instructionFormPage == 4">
                        <b-form-group label="Pseudoinstruction Definition:">
                          <b-form-textarea v-on:input="debounce('formPseudoinstruction.definition', $event)" 
                                           :value="formPseudoinstruction.definition" 
                                           placeholder="Example: add reg1 reg0 reg2" 
                                           :state="valid(formPseudoinstruction.definition)" 
                                           :rows="4" 
                                           title="Pseudoinstruction Definition">
                          </b-form-textarea>
                        </b-form-group>
                      </div>

                      <!-- Page 5 -->
                      <div id="newPseudoinstForm5" v-if="instructionFormPage == 5">
                        <b-form-group label="Pseudoinstruction help:">
                          <b-form-textarea v-on:input="debounce('formPseudoinstruction.help', $event)" 
                                           :value="formPseudoinstruction.help" 
                                           placeholder="Example: r3 = r1 + r2" 
                                           :state="valid(formPseudoinstruction.help)" 
                                           :rows="4" 
                                           title="Pseudoinstruction help">
                          </b-form-textarea>
                        </b-form-group>
                      </div>

                    </b-form>
                    <hr>
                    <b-pagination-nav size="sm" 
                                      align="center" 
                                      base-url="#" 
                                      :number-of-pages="5" 
                                      v-model="instructionFormPage" 
                                      :link-gen="linkGen" 
                                      :page-gen="pageGen">
                    </b-pagination-nav>
                  </b-modal >

                  <!-- Reset pseudoinstruction -->
                  <b-modal id ="modalResetPseudoinst" 
                           :title="modalResetPseudoinst.title" 
                           ok-variant="danger" 
                           ok-title="Reset" 
                           @ok="resetPseudoinstructionsModal(modalResetPseudoinst.element)">
                    <span class="h6">Are you sure you want to reset the pseudoinstructions?</span>
                  </b-modal >

                  <!-- Pseudoinstruction set table -->
                  <div class="col-lg-12 col-sm-12 mt-3">
                    <b-table small 
                             :items="architecture.pseudoinstructions" 
                             :fields="pseudoinstFields"
                             class="text-center" 
                             sticky-header="60vh">

                      <!-- Change the title of each column -->
                      <!--<template v-slot:head(signature)="row">
                        Detailed Syntax
                      </template>-->

                      <template v-slot:head(signatureRaw)="row">
                        Instruction syntax
                      </template>

                      <!-- For each pseudoinstruction -->

                      <template v-slot:cell(signatureRaw)="row">
                        {{row.item.signatureRaw}}
                        <br>
                        {{row.item.signature}}
                      </template>

                      <template v-slot:cell(fields)="row">
                        <b-button @click.stop="viewFielsPseudo(row.item.name, row.index, $event.target)" 
                                  class="btn btn-outline-secondary btn-sm buttonBackground h-100">
                          View Fields
                        </b-button>
                      </template>

                      <template v-slot:cell(definition)="row">
                        <b-form-textarea v-model="row.item.definition" 
                                         disabled 
                                         no-resize
                                         rows="1" 
                                         max-rows="4"
                                         title="Pseudoinstruction Definition">
                        </b-form-textarea>
                      </template>

                      <template v-slot:cell(actions)="row">
                        <b-button @click.stop="editPseudoinstModal(row.item.name, row.index, $event.target)" 
                                  class="btn btn-outline-secondary btn-sm buttonBackground h-100">
                          <span class="far fa-edit"></span>
                          Edit
                        </b-button>
                        <b-button @click.stop="delPseudoinstModal(row.item.name, row.index, $event.target)"
                                  class="btn btn-outline-danger btn-sm buttonBackground h-100">
                          <span class="far fa-trash-alt"></span>
                          Delete
                        </b-button> 
                      </template>
                    </b-table>

                    <!-- Pseudoinstruction fields -->
                    <b-modal size="lg" 
                             id ="modalViewPseudoFields"
                             :title="modalViewFields.title" 
                             hide-footer 
                             @hidden="emptyFormPseudo">
                      <b-form>
                        <div id="viewFieldsPseudo">
                          <div class="col-lg-12 col-sm-12 row">
                            <div class="col-lg-2 col-2 fields">
                              
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Name:</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Type</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Start Bit</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">End Bit</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">

                            </div>
                          </div>

                          <div v-if="isNaN(parseInt(formPseudoinstruction.numfieldsAux)) == false">  
                            <div v-for="i in parseInt(formPseudoinstruction.numfieldsAux)">
                              <div class="col-lg-12 col-sm-12 row">
                                <div class="col-lg-2 col-2 fields">
                                  <span class="h6">Field {{i-1}}</span>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="text" 
                                                  v-model="formPseudoinstruction.nameField[i-1]" 
                                                  required 
                                                  size="sm" 
                                                  disabled 
                                                  title="Field name">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input v-model="formPseudoinstruction.typeField[i-1]" 
                                                  required 
                                                  type="text" 
                                                  size="sm" 
                                                  disabled 
                                                  title="Field type">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" 
                                                  min="0" 
                                                  :max="32 * formInstruction.nwords - 1" 
                                                  v-model="formPseudoinstruction.startBitField[i-1]" 
                                                  required 
                                                  size="sm" 
                                                  disabled 
                                                  title="Field start bit">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-model="formPseudoinstruction.stopBitField[i-1]" required size="sm" disabled title="Field end bit">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </b-form>
                    </b-modal>

                    <!-- Edit pseudoinstruction -->
                    <b-modal size="lg" 
                             id ="modalEditPseudoinst" 
                             :title="modalEditPseudoinst.title" 
                             ok-title="Save" 
                             @ok="editPseudoinstVerify($event, modalEditPseudoinst.element, modalEditPseudoinst.index)" 
                             v-model="showEditPseudoinstruction" 
                             @hidden="emptyFormPseudo">
                      <b-form>

                        <!-- Page 1 -->
                        <div id="editPseudoinstForm1" v-if="instructionFormPage == 1">
                          <b-form-group label="Name:">
                            <b-form-input type="text" 
                                          v-on:input="debounce('formPseudoinstruction.name', $event)" 
                                          :value="formPseudoinstruction.name" 
                                          required 
                                          placeholder="Enter name" 
                                          :state="valid(formPseudoinstruction.name)" 
                                          size="sm" 
                                          title="Pseudoinstruction name">
                            </b-form-input>
                          </b-form-group>

                          <b-form-group label="Number of Words:">
                            <b-form-input type="number" 
                                          min="1" 
                                          v-on:input="debounce('formPseudoinstruction.nwords', $event)" 
                                          :value="formPseudoinstruction.nwords" 
                                          required 
                                          placeholder="Enter nwords" 
                                          :state="valid(formPseudoinstruction.nwords)" 
                                          size="sm" 
                                          title="Pseudoinstruction size">
                            </b-form-input>
                          </b-form-group>

                          <b-form-group label="Number of fields: ">
                            <b-form-input type="text" 
                                          min="1" 
                                          :max="32 * formInstruction.nwords" 
                                          v-on:input="debounce('formPseudoinstruction.numfields', $event)" 
                                          :value="formPseudoinstruction.numfields" 
                                          required 
                                          placeholder="Enter number of fields" 
                                          :state="valid(formPseudoinstruction.numfields)" 
                                          size="sm" 
                                          @change="changeNumfield(1)" 
                                          title="Pseudoinstruction fields">
                            </b-form-input>
                          </b-form-group>

                          <div class="d-none">
                            <b-form-input type="text" 
                                          v-model="formPseudoinstruction.numfieldsAux" 
                                          title="Pseudoinstruction fields">
                            </b-form-input>
                          </div>
                        </div>

                        <!-- Page 2 -->
                        <div id="editPseudoinstForm2" v-if="instructionFormPage == 2">
                          <div class="col-lg-12 col-sm-12 row">
                            <div class="col-lg-2 col-2 fields">
                              
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Name:</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Type</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">Start Bit</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <span class="h6">End Bit</span>
                            </div>
                            <div class="col-lg-2 col-2 fields">

                            </div>
                          </div>

                          <div v-if="isNaN(parseInt(formPseudoinstruction.numfieldsAux)) == false"> 
                            <div v-for="i in parseInt(formPseudoinstruction.numfieldsAux)">
                              <div class="col-lg-12 col-sm-12 row">
                                <div class="col-lg-2 col-2 fields">
                                  <span class="h6">Field {{i-1}}</span>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="text" 
                                                  v-on:input="debounce('formPseudoinstruction.nameField['+i+'-1]', $event)" 
                                                  :value="formPseudoinstruction.nameField[i-1]" 
                                                  required 
                                                  state="valid(formPseudoinstruction.nameField[i-1])" 
                                                  size="sm" 
                                                  title="Field name">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-select v-model="formPseudoinstruction.typeField[i-1]" 
                                                   required 
                                                   :state="valid(formPseudoinstruction.typeField[i-1])" 
                                                   size="sm"
                                                   title="Field type">
                                      <option value="INT-Reg">INT-Reg</option>
                                      <option value="SFP-Reg">SFP-Reg</option>
                                      <option value="DFP-Reg">DFP-Reg</option>
                                      <option value="Ctrl-Reg">Ctrl-Reg</option>
                                      <option value="inm-signed">inm-signed</option>
                                      <option value="inm-unsigned">inm-unsigned</option>
                                      <option value="address">address</option>
                                      <option value="offset_bytes">Offset Bytes</option>
                                      <option value="offset_words">Offset Words</option>
                                    </b-form-select>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" 
                                                  min="0" 
                                                  :max="32 * formInstruction.nwords - 1" 
                                                  v-on:input="debounce('formPseudoinstruction.startBitField['+i+'-1]', $event)" 
                                                  :value="formPseudoinstruction.startBitField[i-1]" 
                                                  required 
                                                  :state="valid(formPseudoinstruction.startBitField[i-1])" 
                                                  size="sm" 
                                                  title="Field start bit">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" 
                                                  min="0" 
                                                  :max="32 * formInstruction.nwords - 1" 
                                                  v-on:input="debounce('formPseudoinstruction.stopBitField['+i+'-1]', $event)" 
                                                  :value="formPseudoinstruction.stopBitField[i-1]" 
                                                  required 
                                                  :state="valid(formPseudoinstruction.stopBitField[i-1])" 
                                                  size="sm" 
                                                  title="Field end bit">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- Page 3 -->
                        <div id="editPseudoinstForm3" v-if="instructionFormPage == 3">
                          <b-form-group label="Pseudoinstruction Syntax Definition:">
                            <b-form-input type="text" 
                                          v-on:input="debounce('formPseudoinstruction.signature_definition', $event)" 
                                          :value="formPseudoinstruction.signature_definition" 
                                          placeholder="Example: move $F0 $F1" 
                                          required 
                                          :state="valid(formPseudoinstruction.signature_definition)" 
                                          v-on:change="generateSignaturePseudo()" 
                                          size="sm" 
                                          title="Syntax">
                            </b-form-input>
                          </b-form-group>
                          <b-form-group label="Detailed Syntax:">
                            <b-form-input type="text" 
                                          v-on:input="debounce('formPseudoinstruction.signature', $event)" 
                                          :value="formPseudoinstruction.signature" 
                                          disabled 
                                          required 
                                          size="sm" 
                                          title="Detailed syntax">
                            </b-form-input>
                          </b-form-group>
                          <b-form-group label="Pseudoinstruction Syntax:">
                            <b-form-input type="text" 
                                          v-on:input="debounce('formPseudoinstruction.signatureRaw', $event)" 
                                          :value="formPseudoinstruction.signatureRaw" 
                                          disabled 
                                          size="sm" 
                                          title="Pseudoinstruction syntax">
                            </b-form-input>
                          </b-form-group>
                        </div>

                        <!-- Page 4 -->
                        <div id="editPseudoinstForm4" v-if="instructionFormPage == 4">
                          <b-form-group label="Pseudoinstruction Definition:">
                            <b-form-textarea v-on:input="debounce('formPseudoinstruction.definition', $event)" 
                                             :value="formPseudoinstruction.definition" 
                                             placeholder="Example: add reg1 reg0 reg2" 
                                             :state="valid(formPseudoinstruction.definition)" 
                                             :rows="4" 
                                             title="Pseudoinstruction Definition">
                            </b-form-textarea>
                          </b-form-group>
                        </div>

                        <!-- Page 5 -->
                        <div id="editPseudoinstForm5" v-if="instructionFormPage == 5">
                          <b-form-group label="Pseudoinstruction Help:">
                            <b-form-textarea v-on:input="debounce('formPseudoinstruction.help', $event)" 
                                             :value="formPseudoinstruction.help" 
                                             placeholder="Example: r3 = r1 + r2" 
                                             :rows="4" 
                                             title="Pseudoinstruction help">
                            </b-form-textarea>
                          </b-form-group>
                        </div>
                      </b-form>
                      <hr>
                      <b-pagination-nav size="sm" 
                                        align="center" 
                                        base-url="#" 
                                        :number-of-pages="5" 
                                        v-model="instructionFormPage" 
                                        :link-gen="linkGen" 
                                        :page-gen="pageGen">
                      </b-pagination-nav>
                    </b-modal>

                    <!-- Delete pseudoinstruction -->
                    <b-modal id ="modalDeletPseudoinst" 
                             :title="modalDeletPseudoinst.title" 
                             ok-variant="danger" 
                             ok-title="Delete" 
                             @ok="delPseudoinstruction(modalDeletPseudoinst.index)">
                      <span class="h6">Are you sure you want to delete the item?</span>
                    </b-modal >
                  </div>
                </b-tab>

                <!-- Directives definition -->
                <b-tab title="Directives Definition" :disabled="advanced_mode" v-if="!advanced_mode">
                  <br>
                  <span class="h6">Directives set:</span>

                  <div class="col-lg-12 col-sm-12 row">
                    <div class="compMenu">
                      <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100" 
                                id="newDirectiveBtn" 
                                v-b-modal.new_directive> 
                        <span class="fas fa-plus-circle"></span>
                        New directive
                      </b-button>
                    </div>

                    <div class="compMenu">
                      <b-button class="btn btn-outline-danger btn-sm buttonBackground h-100" 
                                id="resetDirectives" 
                                @click="resetDirModal(architecture_name, $event)"> 
                        <span class="fas fa-power-off"></span>
                        Reset directives
                      </b-button>
                    </div>
                  </div>

                  <!-- New directive form -->
                  <b-modal id ="new_directive" 
                           title = "New Directive"
                           ok-title="Save"
                           @ok="newDirVerify($event)"
                           v-model="showNewDirective"
                           @hidden="emptyFormDirective">
                    <b-form>
                      <b-form-group label="Name:">
                        <b-form-input type="text"
                                      :state="valid(formDirective.name)" 
                                      v-on:input="debounce('formDirective.name', $event)" 
                                      :value="formDirective.name" 
                                      required 
                                      placeholder="Enter name" 
                                      size="sm" 
                                      title="Directive name">
                        </b-form-input>
                      </b-form-group>
                      <b-form-group label="action:">
                        <b-form-select :options="actionTypes" 
                                       required 
                                       v-model="formDirective.action" 
                                       :state="valid(formDirective.action)" 
                                       size="sm"
                                       title="Action">
                        </b-form-select>
                      </b-form-group>
                      <b-form-group label="Size:" 
                                    v-if="formDirective.action != '' && formDirective.action != 'data_segment' && formDirective.action != 'code_segment' && formDirective.action != 'main_function' && formDirective.action != 'kmain_function' && formDirective.action != 'global_symbol' && formDirective.action != 'data_size' && formDirective.action != 'ascii_not_null_end' && formDirective.action != 'ascii_null_end' && formDirective.action != 'align'">
                        <b-form-input type="number" 
                                      :state="valid(formDirective.size)" 
                                      v-on:input="debounce('formDirective.size', $event)" 
                                      :value="formDirective.size" 
                                      required 
                                      placeholder="Enter size" 
                                      size="sm" 
                                      min="0" 
                                      title="Directive size">
                        </b-form-input>
                      </b-form-group>
                    </b-form>
                  </b-modal >

                  <!-- Reset directives -->
                  <b-modal id ="modalResetDir" 
                           :title="modalResetDir.title" 
                           ok-variant="danger" 
                           ok-title="Reset" 
                           @ok="resetDirectives(modalResetDir.element)">
                    <span class="h6">Are you sure you want to reset the directives set?</span>
                  </b-modal >

                  <!-- Directives set table -->
                  <div class="col-lg-12 col-sm-12 mt-3">
                    <b-table small 
                             :items="architecture.directives" 
                             :fields="directivesFields" 
                             class="text-center" 
                             sticky-header="60vh">
                      <!-- For each directive -->
                      <template v-slot:cell(actions)="row" class="">
                        <b-button @click.stop="editDirModal(row.item.name, $event.target)" 
                                  class="btn btn-outline-secondary btn-sm buttonBackground h-100">
                          <span class="far fa-edit"></span> 
                          Edit
                        </b-button>
                        <b-button @click.stop="delDirModal(row.item.name, $event.target)"
                                  class="btn btn-outline-danger btn-sm buttonBackground h-100">
                          <span class="far fa-trash-alt"></span>
                          Delete
                        </b-button> 
                      </template>
                    </b-table>

                    <!-- Edit directive form -->
                    <b-modal id ="modalEditDirective" 
                             :title = "modalEditDirective.title"
                             ok-title="Save" 
                             @ok="editDirVerify($event, modalEditDirective.element)" 
                             v-model="showEditDirective" 
                             @hidden="emptyFormDirective">
                      <b-form>
                        <b-form-group label="Name:">
                          <b-form-input type="text" 
                                        :state="valid(formDirective.name)" 
                                        v-on:input="debounce('formDirective.name', $event)" 
                                        :value="formDirective.name" 
                                        required 
                                        placeholder="Enter name" 
                                        size="sm" 
                                        title="Directive name">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="action:">
                          <b-form-select :options="actionTypes" 
                                         required 
                                         v-model="formDirective.action" 
                                         :state="valid(formDirective.action)" 
                                         size="sm"
                                         title="Action">
                          </b-form-select>
                        </b-form-group>
                        <b-form-group label="Size:" 
                                      v-if="formDirective.action != 'data_segment' && formDirective.action != 'code_segment' && formDirective.action != 'main_function' && formDirective.action != 'kmain_function' && formDirective.action != 'global_symbol' && formDirective.action != 'data_size' && formDirective.action != 'ascii_not_null_end' && formDirective.action != 'ascii_null_end' && formDirective.action != 'align'">
                          <b-form-input type="number" 
                                        :state="valid(formDirective.size)" 
                                        v-on:input="debounce('formDirective.size', $event)" 
                                        :value="formDirective.size" 
                                        required 
                                        placeholder="Enter size" 
                                        size="sm" 
                                        min="0" 
                                        title="Directive size">
                          </b-form-input>
                        </b-form-group>
                      </b-form>
                    </b-modal >

                    <!-- Delete directive -->
                    <b-modal id ="modalDeletDir" 
                             :title="modalDeletDir.title" 
                             ok-variant="danger" 
                             ok-title="Delete" 
                             @ok="delDirective(modalDeletDir.element)">
                      <span class="h6">Are you sure you want to delete the item?</span>
                    </b-modal >
                  </div>
                </b-tab>
              </b-tabs>
            </div>
          </div>
        </div>




















        <!-- Assembly view -->
        <div class="contenedor row" id="assembly" v-if="creator_mode == 'assembly'">

          <!-- TODO: navbar component -->
          <!-- Navbar -->
          <div class="contenedor menu row my-3">
            <div class="col-lg-3 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm arch_btn h-100" 
                              id="arch_btn_assembly"
                              @click="change_UI_mode('architecture')">
                      <span class="fas fa-sitemap"></span>
                      Architecture
                    </b-button>
                  </div>
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm simulator_btn h-100" 
                              id="simulator_btn_assembly" 
                              @click="change_UI_mode('simulator')">
                      <span class="fas fa-cogs"></span>
                      Simulator
                    </b-button>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-2 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <b-dropdown right 
                            text="File" 
                            size="sm" 
                            class="btn btn-block menuGroup btn-sm nopadding" 
                            variant="outline-secondary">
                  <b-dropdown-item @click="newAssembly">
                    <span class="fas fa-file"></span> 
                    New
                  </b-dropdown-item>
                  <b-dropdown-item v-b-modal.load_assembly>
                    <span class="fas fa-upload"></span>
                    Load
                  </b-dropdown-item>
                  <b-dropdown-item v-b-modal.save_assembly>
                    <span class="fas fa-download"></span>
                    Save
                  </b-dropdown-item>
                  <b-dropdown-item v-b-modal.examples>
                    <span class="far fa-file-alt"></span>
                    Examples
                  </b-dropdown-item>
                </b-dropdown>
              </div>
            </div>

            <!-- Load assembly form -->
            <b-modal  id = "load_assembly"
                      title = "Load Assembly"
                      ok-title="Load from this File"
                      @ok="assembly_update">
              <p> Please select the assembly file to be loaded </p> 
              <b-form-file v-model="load_assembly"
                           :state="Boolean(load_assembly)" 
                           placeholder="Choose a file..." 
                           accept=".s" 
                           @change="read_assembly" 
                           id="assembly_file">
              </b-form-file>
            </b-modal>

            <!-- Save assembly form -->
            <b-modal  id = "save_assembly"
                      title = "Save Assembly" 
                      ok-title="Save to File" 
                      @ok="assembly_save">
              <p> Please write the file name: </p> 
              <b-form-input v-on:input="debounce('save_assembly', $event)" 
                            :value="save_assembly"
                            type="text"
                            placeholder="File name where assembly will be saved" 
                            title="File name">
              </b-form-input>
            </b-modal>






            <!-- Examples modal -->
            <b-modal id="examples" title="Examples" hide-footer scrollable ref="examples">
              <examples :example_available="example_available" compile="false" modal="examples"></examples>
            </b-modal>







            <div class="col-lg-2 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-12 col-sm-12 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100" 
                              id="compile_assembly" 
                              @click="assembly_compiler()">
                      <span class="fas fa-sign-in-alt"></span>
                      Compile/Linked
                    </b-button>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-2 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <b-dropdown right text="Library" size="sm" class="btn btn-block menuGroup btn-sm nopadding" variant="outline-secondary">
                  <b-dropdown-item v-b-modal.save_binary>
                    <span class="fas fa-plus-square"></span>
                    Create
                  </b-dropdown-item>
                  <b-dropdown-item v-b-modal.load_binary>
                    <span class="fas fa-upload"></span>
                    Load Library
                  </b-dropdown-item>
                  <b-dropdown-item @click="removeLibrary">
                    <span class="far fa-trash-alt"></span>
                    Remove
                  </b-dropdown-item>
                </b-dropdown>
              </div>
            </div>

            <!-- Load binary form -->
            <b-modal  id = "load_binary"
                      title = "Load Binary" 
                      ok-title="Load from this File" 
                      @ok="library_update">
              <p> Please select the binary file to be loaded </p> 
              <b-form-file v-model="name_binary_load" 
                           :state="Boolean(name_binary_load)" 
                           placeholder="Choose a file..." 
                           accept=".o" 
                           @change="library_load" 
                           id="binary_file">
              </b-form-file>
            </b-modal>

            <!-- Save binary form -->
            <b-modal  id = "save_binary"
                      title = "Save Binary" 
                      ok-title="Save to File" 
                      @ok="library_save">
              <p> Please write the file name: </p> 
              <b-form-input v-on:input="debounce('name_binary_save', $event)" 
                            :value="name_binary_save"
                            type="text"
                            placeholder="File name where binary will be saved"
                            title="File name">
              </b-form-input>
            </b-modal>

            <div class="col-lg-3 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100" 
                              id="conf_btn_ass" 
                              v-b-modal.configuration>
                      <span class="fa fa-cogs"></span>
                      Configuration
                    </b-button>
                  </div>
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block btn-sm h-100 infoButton"
                              id="info_ass">
                      <span class="fas fa-info-circle"></span>
                      Info
                    </b-button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <popover-info target="info_ass" show_instruction_help="true"></popover-info>

          <!-- Assembly textarea and library tags-->
          <div class="contenedor row">
            <textarea-assembly :browser="browser"></textarea-assembly>
            <list-libray-tags :instructions_tag="update_binary.instructions_tag"></list-libray-tags>
          </div>

          <!-- Compile error -->
          <b-modal  id="modalAssemblyError" title="Assembly Code Error" ref="errorAssembly" hide-footer size="lg">
            <assembly-error :modal_assembly_error="modalAssemblyError"></assembly-error>
          </b-modal>

        </div>


















        <!-- Simulator view -->
        <div class="contenedor row" id="simulator" v-if="creator_mode == 'simulator'">

          <!-- TODO: navbar component -->
          <!-- Navbar -->
          <div class="contenedor menu row my-3">
            <div class="col-lg-3 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12 py-0 px-1">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm arch_btn h-100" 
                              id="arch_btn_sim"
                              @click="change_UI_mode('architecture')">
                      <span class="fas fa-sitemap"></span>
                      Architecture
                    </b-button>
                  </div>
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm assembly_btn h-100"
                              id="assembly_btn_sim"
                              @click="change_UI_mode('assembly')">
                      <span class="fas fa-hashtag"></span>
                      Assembly
                    </b-button>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-3 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12 nopadding">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <!-- Execution actions -->
                  <div class="col-lg-12 col-sm-12 py-0 px-1">
                    <div class="col-lg-12 col-sm-12 buttons row">
                      <div class="col-lg-4 col-sm-4 buttons">
                        <b-button @click="reset(true)" 
                                  class="btn btn-outline-secondary btn-block actionsGroup btn-sm h-100">
                          <span class="fas fa-power-off"></span>
                          Reset
                        </b-button>
                      </div>
                      <div class="col-lg-4 col-sm-4 buttons">
                        <b-button accesskey="a" 
                                  class="btn btn-outline-secondary btn-block actionsGroup btn-sm h-100" 
                                  @click="executeInstruction" id="inst">
                          <span class="fas fa-fast-forward"></span>
                          Inst.
                        </b-button>
                        <b-tooltip target="inst" title="Press [Alt] + A" v-if="browser=='Chrome'"></b-tooltip>
                        <b-tooltip target="inst" title="Press [Alt] [Shift] + A" v-if="browser=='Firefox'"></b-tooltip>
                        <b-tooltip target="inst" title="Press [Control] [Alt/Option] + A" v-if="browser=='Mac'"></b-tooltip>
                      </div>
                      <div class="col-lg-4 col-sm-4 buttons" id="playExecution" >
                        <b-button class="btn btn-outline-secondary btn-block actionsGroup btn-sm h-100" 
                                  @click="executeProgram(true)" 
                                  v-if="runExecution == false" 
                                  id="run">
                          <span class="fas fa-play"></span>
                          Run
                        </b-button>
                      </div>
                      <div class="col-lg-4 col-sm-4 buttons" id="stopExecution" style="display: none">
                        <b-button class="btn btn-outline-secondary btn-block actionsGroup btn-sm h-100" 
                                  @click="stopExecution" 
                                  id="stop">
                          <span class="fas fa-stop"></span>
                          Stop
                        </b-button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-3 col-sm-12 py-0 px-1">
              <div class="col-lg-12 col-sm-12 buttons row">
                <div class="col-lg-6 col-sm-6 buttons">
                  <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100"
                            v-b-modal.examples2>
                    <span class="fas fa-file-alt"></span>
                    Examples
                  </b-button>
                </div>
                <div class="col-lg-6 col-sm-6 buttons">
                  <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100"
                            v-b-modal.calculator>
                    <span class="fas fa-calculator"></span>
                    Calculator
                  </b-button>
                </div>
              </div>
            </div>

            <div class="col-lg-3 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12 py-0 px-1">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-7 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100" 
                              id="conf_btn_sim" 
                              v-b-modal.configuration>
                      <span class="fa fa-cogs"></span>
                      Configuration
                    </b-button>
                  </div>

                  <div class="col-lg-5 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block btn-sm h-100 infoButton"
                              id="info_sim">
                      <span class="fas fa-info-circle"></span> 
                      Info
                    </b-button>
                  </div>

                  <!-- Information popover -->
                  <popover-info target="info_sim" show_instruction_help="true"></popover-info>

                </div>
              </div>
            </div>

          </div>














          <!-- Examples modal -->
          <b-modal id="examples2" title="Examples" hide-footer scrollable ref="examples2">
            <examples :example_available="example_available" compile="true" modal="examples2"></examples>
          </b-modal>

          <!-- Calculator -->
          <b-modal id="calculator" title="Floating Point Calculator" hide-footer size="lg">
            <calculator></calculator>
          </b-modal>

          <!-- Execution instruction -->
          <table-execution :instructions="instructions" :enter="enter"></table-execution>

          <!-- Execution data -->
          <div class="col-rt-4 col-xl-5 col-lg-6 col-sm-12">

            <!-- View selector -->
            <data-view-selector :name_reg="name_reg" :reg_type="reg_type"></data-view-selector>


            <!-- TODO: register file component -->
            <!-- Registers view -->
            <div class="col-lg-12 col-sm-12 px-0" id="registers" v-if="data_mode == 'registers'">
              <b-container>
                <b-row>
                  <b-col cols="auto">
                    <b-form-group label="Register value representation:" v-slot="{ ariaDescribedby }">
                      <b-form-radio-group
                        id="btn-radios-1"
                        v-model="reg_representation"
                        :options="reg_representation_options"
                        button-variant="outline-secondary"
                        size="sm"
                        :aria-describedby="ariaDescribedby"
                        name="radios-btn-default"
                        buttons
                      ></b-form-radio-group>
                    </b-form-group>
                  </b-col>

                  <b-col cols="auto" align-h="end">
                    <b-form-group label="Register name representation:" v-slot="{ ariaDescribedby }">
                      <b-form-radio-group
                        id="btn-radios-2"
                        v-model="reg_name_representation"
                        :options="reg_name_representation_options"
                        button-variant="outline-secondary"
                        size="sm"
                        :aria-describedby="ariaDescribedby"
                        name="radios-btn-default"
                        buttons
                      ></b-form-radio-group>
                    </b-form-group>
                  </b-col>
                </b-row>
              </b-container>
              

              <div class="col-lg-12 col-sm-12 nopadding" v-for="item in architecture_hash">
                <div class="col-lg-12 col-sm-12 buttons row mb-2" 
                      v-if="(register_type == architecture.components[item.index].type) || (register_type == 'integer' && architecture.components[item.index].type == 'control')">
                  
                  <!-- Control and integer registers -->
                  <div class="col-lg-3 col-sm-4 buttons" 
                       v-for="item2 in architecture.components[item.index].elements" 
                       v-if="(architecture.components[item.index].type == 'integer') || (architecture.components[item.index].type == 'control')">

                    <register :component="item"
                              :register="item2"
                              :name_representation="reg_name_representation"
                              :value_representation="reg_representation">
                    </register>

                    <!--TODO: try to include it in the component-->
                    <popover-register-int :target="popoverId(item2.name)" 
                                          :component="item"
                                          :register="item2">
                    </popover-register-int>

                  </div>

                  <div class="col-lg-3 col-sm-4 buttons" 
                       v-for="item2 in architecture.components[item.index].elements" 
                       v-if="architecture.components[item.index].type == 'floating point'">

                    <!-- Simple floating point registers -->
                    <div class="col-lg-12 col-sm-12 nopadding h-100" 
                         v-if="architecture.components[item.index].double_precision == false">

                      <register :component="item"
                                :register="item2"
                                :name_representation="reg_name_representation"
                                :value_representation="reg_representation">
                      </register>

                      <!-- Register popover -->
                      <popover-register-float :target="popoverId(item2.name)" 
                                              :component="item"
                                              :register="item2">
                      </popover-register-float>
                    </div>

                    <!-- Double floating point registers -->
                    <div class="col-lg-12 col-sm-12 nopadding h-100" 
                         v-if="architecture.components[item.index].double_precision == true">

                      <register :component="item"
                                :register="item2"
                                :name_representation="reg_name_representation"
                                :value_representation="reg_representation">
                      </register>

                      <!--TODO: try to include it in the component-->
                      <popover-register-double :target="popoverId(item2.name)" 
                                               :component="item"
                                               :register="item2">
                      </popover-register-double>
                    </div> 
                  </div>
                </div>
              </div>
            </div>


            <!-- Memory view-->
            <div class="col-lg-12 col-sm-12" id="memory" v-if="data_mode == 'memory'">
              <b-tabs content-class="mt-3" fill>

                <!-- Data memory -->
                <b-tab title="Data" active>

                  <table-mem :main_memory="main_memory"
                             :memory_segment="memory_hash[0]"
                             :track_stack_names="track_stack_names" 
                             :callee_subrutine="callee_subrutine" 
                             :caller_subrutine="caller_subrutine">
                  </table-mem>

                  <!--TODO: try to include in a component this modal-->
                  <b-modal ref="space_modal" 
                           size="sm" 
                           title="Select space view:" 
                           @hidden="hide_space_modal" 
                           @ok="change_space_view">
                    <b-form-radio v-model="selected_space_view" value="sig_int">Signed Integer</b-form-radio>
                    <b-form-radio v-model="selected_space_view" value="unsig_int">Unsigned Integer</b-form-radio>
                    <b-form-radio v-model="selected_space_view" value="float">Float</b-form-radio>
                    <b-form-radio v-model="selected_space_view" value="char">Char</b-form-radio>
                  </b-modal>

                </b-tab>

                <!-- Text memory -->
                <b-tab title="Text">

                  <table-mem :main_memory="main_memory"
                             :memory_segment="memory_hash[1]"
                             :track_stack_names="track_stack_names" 
                             :callee_subrutine="callee_subrutine" 
                             :caller_subrutine="caller_subrutine">
                  </table-mem>

                </b-tab>

                <!-- Stack memory -->
                <b-tab title="Stack">

                  <table-mem :main_memory="main_memory"
                             :memory_segment="memory_hash[2]"
                             :track_stack_names="track_stack_names" 
                             :callee_subrutine="callee_subrutine" 
                             :caller_subrutine="caller_subrutine">
                  </table-mem>

                  <!--TODO: try to include in a component this modal-->
                  <b-modal ref="stack_modal" 
                           size="sm" 
                           title="Select stack word view:" 
                           @hidden="hide_stack_modal" 
                           @ok="change_stack_view">
                    <b-form-radio v-model="selected_stack_view" value="sig_int">Signed Integer</b-form-radio>
                    <b-form-radio v-model="selected_stack_view" value="unsig_int">Unsigned Integer</b-form-radio>
                    <b-form-radio v-model="selected_stack_view" value="float">Float</b-form-radio>
                    <b-form-radio v-model="selected_stack_view" value="char">Char</b-form-radio>
                  </b-modal>

                </b-tab>

              </b-tabs>
            </div>

            <!-- Stats--->
            <stats :data_mode="data_mode" :stats="stats" :stats_value="stats_value"></stats>

          </div>

          <!-- Monitor & keyboard -->
          <div class="col-rt-4 col-xl-12 col-lg-12 col-sm-12 row pr-0">

            <!-- Monitor -->
            <monitor :display="display"></monitor>

            <!-- Keyboard --> <!--TODO: change to component-->
            <div class="col-rt-12 col-lg-6 col-sm-12 my-2 mx-0 nopadding">
              <div class="row col-lg-12 col-sm-12 mx-0 pl-0 nopadding">
                <div class="col-lg-1 col-sm-1">
                  <span class="fa fa-keyboard fa-2x mb-2 consoleIcon"></span>
                </div>
                <div class="col-lg-11 col-sm-11 pr-0">
                  <b-form-textarea id="textarea_keyboard" 
                                   v-on:input="debounce('keyboard', $event)" 
                                   :value="keyboard" rows="5" 
                                   no-resize :state = "enter" 
                                   title="Keyboard">
                  </b-form-textarea>
                </div>
              </div>

              <div class="col-lg-12 col-sm-12 row nomargin">
                <div class="col-lg-4 col-sm-4">
                 
                </div>
                <div class="col-lg-4 col-sm-4">
                  <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm keyboardButton"
                            @click="consoleClear">
                    <span class="fas fa-broom"></span> 
                    Clear
                  </b-button>
                </div>
                <div class="col-lg-4 col-sm-4">
                  <b-button id="enter_keyboard" 
                            class="btn btn-outline-secondary btn-block menuGroup btn-sm keyboardButton"
                            @click="consoleEnter">
                    <span class="fas fa-level-down-alt enterIcon"></span> 
                    Enter
                  </b-button>
                </div>

              </div>
            </div>

            <!--<keyboard :keyboard="keyboard" :enter="enter"></keyboard>-->

          <div class="col-lg-6 col-sm-12 my-2 mx-0"></div>
      </template>
    </div>

    <!-- Required scripts -->
    <script>
      document.write("<script src=\"js/min.creator_web.js?id=" + new Date().getTime() + "\"><\/script>");
    </script>
  </body>
</html>
